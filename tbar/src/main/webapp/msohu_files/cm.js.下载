/*! project:msohu-v3, version:3.5.51, update:2016-11-08 11:49:19 */try{window._ssp_global=window._ssp_global||{},function(a){var b={global:a,proxyName:!1,basePath:"https://cpro.baidustatic.com/cpro/ui/dup/"};!function(){var c={name:"oojs",namespace:"",classes:{},noop:function(){},$oojs:function(){var c={};if("undefined"!=typeof window&&window&&"undefined"!=typeof document&&document?(this.runtime="browser",c.global=window):(this.runtime="node",c.global=a),c.proxyName="proxy",c.path="node"===this.runtime?process.cwd()+"/src/":"/src/","undefined"!=typeof b)for(var d in b)d&&b.hasOwnProperty(d)&&(c[d]=b[d]);this.global=c.global,c.proxyName&&(Function.prototype[c.proxyName]=this.proxy),this.setPath(c.path),this.global.oojs=this.global.oojs||this},path:{},pathCache:{},getPath:function(a){var b=!!a&&a.split("."),c=this.path;if(b)for(var d=0,e=b.length;e>d;d++){var f=b[d].toLowerCase();if(!c[f])break;c=c[f]}return c.pathValue},setPath:function(a,b){var c=this.path;if("object"!=typeof a){if(b)for(var d=a.split("."),e=0,f=d.length;f>e;e++){var g=d[e].toLowerCase();c[g]=c[g]||{pathValue:c.pathValue},c=c[g]}else b=a;c.pathValue=b,this.pathCache={}}else for(var h in a)h&&a.hasOwnProperty(h)&&this.setPath(h,a[h])},getClassPath:function(a){if(!this.pathCache[a]){this.pathCache[a]=this.getPath(a)+a.replace(/\./gi,"/")+".js";var b=this.getPath(a),c=b.length-1;b.lastIndexOf("\\")!==c&&b.lastIndexOf("/")!==c&&(b+="/"),this.pathCache[a]=b+a.replace(/\./gi,"/")+".js"}return this.pathCache[a]},loadDeps:function(a,b){b=b||{};var c=a.__deps,d=(a.__namespace,[]);for(var e in c)if(c.hasOwnProperty(e)&&c[e]){var f;if("string"!=typeof c[e]?(a[e]=c[e],a[e]&&a[e].__name&&(f=a[e].__full)):(f=c[e],a[e]=this.find(f)),!f||b[f])continue;if(b[f]=!0,a[e])a[e].__deps&&(d=d.concat(this.loadDeps(a[e],b)));else{if("node"===this.runtime)try{a[e]=require(this.getClassPath(f))}catch(a){d.push(f)}a[e]||d.push(f)}}return d},fastClone:function(a){var b=function(){};b.prototype=a;var c=new b;return c},deepClone:function(a,b){"number"!=typeof b&&(b=10);var c,d=b-1;if(b>0)if(a instanceof Date)c=new Date,c.setTime(a.getTime());else if(a instanceof Array){c=[];for(var e=0,f=a.length;f>e;e++)c[e]=this.deepClone(a[e],d)}else if("object"==typeof a){c={};for(var g in a)if(a.hasOwnProperty(g)){var h=a[g];c[g]=this.deepClone(h,d)}}else c=a;else c=a;return c},proxy:function(a,b){var c=Array.prototype.slice.apply(arguments),d=c.shift(),e="function"==typeof this?this:c.shift();return function(){var a=Array.prototype.slice.apply(arguments);return e.apply(d,a.concat(c))}},find:function(a){var b,c=a.split(".");b=this.classes[c[0]];for(var d=1,e=c.length;e>d;d++){if(!b||!b[c[d]]){b=null;break}b=b[c[d]]}return b},reload:function(a){var b=this.find(a);if(b)if(b.__registed=!1,"node"===this.runtime){var c=this.getClassPath(a);delete require.cache[require.resolve(c)],b=require(c)}else b=this.define(b);else b=this.using(a);return b},create:function(a,b,c,d,e,f){"string"==typeof a&&(a=this.using(a));var g=new a.__constructor(b,c,d,e,f);return g},using:function(a){var b=this.find(a);return b||"node"===this.runtime&&(require(this.getClassPath(a)),b=this.find(a)),b},define:function(a){var b=a.name||"__tempName",c=a.namespace||"";a.__name=b,a.__namespace=c,a.__full=c.length>1?c+"."+b:b,a.__deps=a.deps,a.__oojs=this,a.__constructor=function(a,b,c,d,e){if(this.__clones&&this.__clones.length>0)for(var f=0,g=this.__clones.length;g>f;f++){var h=this.__clones[f];this[h]=this.__oojs.deepClone(this[h])}this.__constructorSource(a,b,c,d,e)},a.__constructorSource=a[b]||this.noop,a.__staticSource=a["$"+b]||this.noop,a.__staticUpdate=function(){var b=[];for(var c in this)if(this.hasOwnProperty(c)){var d=this[c];"object"!=typeof d||null===d||"deps"===c||0===c.indexOf("__")||a.__deps&&a.__deps[c]||b.push(c)}this.__clones=b,this.__constructor.prototype=this},a.__static=function(){this.__staticSource(),this.__staticUpdate()};for(var d,e=!1,f=!1,g=c.split("."),h=g.length,i=this.classes,j=0;h>j;j++)d=g[j],d&&(i[d]=i[d]||{},i=i[d]);i[b]=i[b]||{};var k=i;if(i=i[b],i.__name&&i.__registed){if(i.__registed){e=!0;for(var l in a)l&&a.hasOwnProperty(l)&&("undefined"==typeof i[l]||i[l]===this.noop)&&(f=!0,i[l]=a[l])}}else a.__registed=!0,k[b]=a;if(a=k[b],!e||f){var m=this.loadDeps(a);if(m.length>0){if(this.loader=this.loader||this.using("oojs.loader"),"browser"!==this.runtime||!this.loader)throw new Error('class "'+a.name+'" loadDeps error:'+m.join(","));this.loader.loadDepsBrowser(a,m)}else a.__static()}return"node"===this.runtime&&arguments.callee.caller.arguments[2]&&(arguments.callee.caller.arguments[2].exports=a),a}};c.define(c)}()}(_ssp_global),function(a){var b=+new Date;a.setPath("https://dup.baidustatic.com/"),a.define({name:"static",namespace:"dup.ui.assertion.dan",deps:{},painterName:"static",assert:function(a){var b=a.pdb_deliv,c=b.deliv_des;return!(1!==b.brandad||24!==c.product_type)}}),a.define({name:"couplet",namespace:"dup.ui.assertion.dan",deps:{},painterName:"couplet",assert:function(a){var b=a.pdb_deliv,c=b.deliv_des;return 1===b.brandad&&22===c.product_type}}),a.define({name:"danEexpand",namespace:"dup.ui.assertion",deps:{},painterName:"danEexpand",assert:function(a){var b=a.pdb_deliv,c=b.deliv_des;return 1===b.brandad&&25===c.product_type}}),a.define({name:"barrier",namespace:"dup.ui.assertion.dan",deps:{},painterName:"barrier",assert:function(a){var b=a.pdb_deliv,c=b.deliv_des;return 1===b.brandad&&23===c.product_type}}),a.define({name:"video",namespace:"dup.ui.assertion.dan",deps:{},painterName:"video",assert:function(a){var b=a.pdb_deliv,c=b.deliv_des;return!(1!==b.brandad||20!==c.product_type&&21!==c.product_type)}}),a.define({name:"topSearchBar",namespace:"dup.ui.assertion",deps:{},painterName:"topSearchBar",assert:function(a){var b=a.placement,c=b.container,d=b.fillstyle;return!(3!=c.anchoredType||!c.slide||8!=d.btnStyleId)}}),a.define({name:"bottomSearchBar",namespace:"dup.ui.assertion",deps:{},painterName:"bottomSearchBar",assert:function(a){var b=a.placement,c=(b.basic,b.container),d=b.fillstyle;return!(3!=c.anchoredType||!c.slide||9!=d.btnStyleId)}}),a.define({name:"slide",namespace:"dup.ui.assertion",deps:{},painterName:"slide",assert:function(a){var b=a.placement,c=b.container,d=b.fillstyle;return!!(10==c.anchoredType&&c.slide&&d.btnStyleId<=7)}}),a.define({name:"baiduRec",namespace:"dup.ui.assertion",deps:{},painterName:"baiduRec",assert:function(a){var b=a.placement,c=b.basic,d=b.container;return 3===c.rspFormat&&1===c.flowType&&1===d.anchoredType}}),a.define({name:"inlayFix",namespace:"dup.ui.assertion",deps:{},painterName:"inlayFix",assert:function(a){var b=a.placement,c=b.basic,d=b.container,e=d.floated;return 1===c.rspFormat&&1===c.flowType&&1===d.anchoredType&&(!e||(1===e.trigger||!this.isFloat(e)))},isFloat:function(a){for(var b in a)return!0;return!1}}),a.define({name:"insideText",namespace:"dup.ui.assertion",deps:{},painterName:"insideText",assert:function(a){var b=a.placement,c=b.basic,d=b.container;return 3===c.rspFormat&&1===c.flowType&&8===d.occurrence&&11===d.anchoredType}}),a.define({name:"dynamicFloat",namespace:"dup.ui.assertion",deps:{},painterName:"dynamicFloat",assert:function(a){var b=a.placement,c=b.basic,d=b.container,e=d.floated;return!(1!==c.rspFormat||1!==c.flowType||1!==d.anchoredType||!e||8!==e.trigger)}}),a.define({name:"float",namespace:"dup.ui.assertion",deps:{},painterName:"float",assert:function(a){var b=a.placement,c=b.basic,d=b.container;return 1===c.rspFormat&&1===c.flowType&&3===d.anchoredType}}),a.define({name:"inlayFix",namespace:"dup.ui.assertion.mobile",deps:{},painterName:"inlayFix",assert:function(a){var b=a.placement,c=b.basic,d=b.container;return 1===c.rspFormat&&2===c.flowType&&1===d.anchoredType}}),a.define({name:"float",namespace:"dup.ui.assertion.mobile",painterName:"float",assert:function(a){var b=a.placement,c=b.basic,d=b.container;return 1===c.rspFormat&&2===c.flowType&&(3===d.anchoredType||11===d.anchoredType)}}),a.define({name:"config",namespace:"dup.common",DUP_PREFIX:"BAIDU_SSP_",HTTP_PROTOCOL:"http:",LOADER_DEFINE_NAME:"BAIDU_SSP_define",LCR_COOKIE_NAME:"BAIDU_SSP_lcr",REQUEST_URL:"//pos.baidu.com/",POS_URL:"",ISPDB_DELIV:!1,DUP_TM:"BAIDU_DUP_SETJSONADSLOT",HTML_POST:"HTML_POST",SSP_JSONP:"SSP_JSONP",STATIC_JSONP:"STATIC_JSONP",LOG_URL:"//eclick.baidu.com/se.jpg",CACHE_URL:"//pos.baidu.com/bfp/snippetcacher.php?",STORAGE_TIMER:864e5,STATUS_CREATE:1,STATUS_REQUEST:2,STATUS_RESPONSE:4,STATUS_RENDERED:8,STATUS_FINISH:16,EXP_SWITCH:!0,EXP_SATUS:!1,BASE_ID:"110001",EXP_ID:"",RD_ID:"110002",SHUNT_NUMBER:10,IS_PREVIEW:!1,IS_CNAME:!1,FIRST_ONCESEACH:!1,AD_ICON:"https://cpro.baidustatic.com/cpro/ui/noexpire/img/2.0.0/bd-logo08.png",$config:function(){this.HTTP_PROTOCOL="https:"===location.protocol?"https:":"http:",a.global.userConfig&&a.global.userConfig.domain&&(this.REQUEST_URL_CNAME=a.global.userConfig.domain||"")}}),a.define({name:"lang",namespace:"dup.common.utility",hasOwn:Object.prototype.hasOwnProperty,getAttribute:function(a,b){for(var c=a,d=b.split(".");d.length;){if(void 0===c||null===c)return;c=c[d.shift()]}return c},serialize:function(a){if("object"!=typeof a)return"";var b=[];for(var c in a)this.hasOwn.call(a,c)&&b.push(c+"="+encodeURIComponent(a[c]));return b.join("&")},getType:function(a){for(var b={},c="Array Boolean Date Error Function Number RegExp String".split(" "),d=0,e=c.length;e>d;d++)b["[object "+c[d]+"]"]=c[d].toLowerCase();return null==a?"null":b[Object.prototype.toString.call(a)]||"object"},isEmptyObj:function(a){for(var b in a)return!1;return!0},argumentsToArray:function(a){var b=[];switch(this.getType(a)){case"object":b=Array.prototype.slice.call(a);break;case"array":b=a;break;case"number":case"string":b.push(a)}return b},template:function(a,b){var c=/{(.*?)}/g;return a.replace(c,function(a,c,d,e){return b[c]||""})},encodeHTML:function(a){var b={'"':"&quot;",">":"&gt;","<":"&lt;","&":"&amp;"};return a.replace(/[\"<>\&]/g,function(a){return b[a]})},format:function(a,b){var c=/\{(\w+)\:(\w+)\}/g,d=this;return a.replace(c,function(a,c,e){var f=b[c];switch(e){case"number":f=+f||0;break;case"boolean":f=!!f;break;case"html":f=d.encodeHTML(f)}return f})},jsonToObj:function(a){var b="";return window.JSON&&window.JSON.parse&&(b=window.JSON.parse(a)),b},objToString:function(a){var b="";try{b=window.JSON&&window.JSON.stringify?window.JSON.stringify(a):window.eval(a)}catch(a){}return b},trim:function(a){return a.replace(/(^\s*)|(\s*$)/g,"")},unique:function(a){for(var b=[],c={},d=a.length,e=0;d>e;e++){var f=a[e];c[f]||(b[b.length]=f,c[f]=!0)}return b},isArray:function(a){return"[object Array]"==Object.prototype.toString.call(a)},isFunction:function(a){return"[object Function]"==Object.prototype.toString.call(a)},toArray:function(a){if(null===a||void 0===a)return[];if(this.isArray(a))return a;if("number"!=typeof a.length||"string"==typeof a||this.isFunction(a))return[a];if(a.item){for(var b=a.length,c=new Array(b);b--;)c[b]=a[b];return c}return[].slice.call(a)},encode:function(a){return void 0===a?"":encodeURIComponent(a)},encodeUrl:function(a){var b=escape(a);return b=b.replace(/([*+-.\/@_])/g,function(a){return"%"+a.charCodeAt(0).toString(16)}),b.replace(/%/g,"_")},isPlain:function(a){var b,c=Object.prototype.hasOwnProperty;if(!(a&&"[object Object]"===Object.prototype.toString.call(a)&&"isPrototypeOf"in a))return!1;if(a.constructor&&!c.call(a,"constructor")&&!c.call(a.constructor.prototype,"isPrototypeOf"))return!1;for(b in a);return void 0===b||c.call(a,b)},clone:function(a){var b,c,d=a;if(!a||a instanceof Number||a instanceof String||a instanceof Boolean)return d;if(this.isArray(a)){d=[];var e=0;for(b=0,c=a.length;c>b;b++)d[e++]=this.clone(a[b])}else if(this.isPlain(a)){d={};for(b in a)a.hasOwnProperty(b)&&(d[b]=this.clone(a[b]))}return d}}),a.define({name:"browser",namespace:"dup.common.utility",deps:{lang:"dup.common.utility.lang"},$browser:function(){this.win=window,this.nav=window.navigator,this.checkBrowser()},checkBrowser:function(){var a=navigator.userAgent,b=window.RegExp;/msie (\d+\.\d)/i.test(a)&&(this.ie=document.documentMode||+b.$1),/opera\/(\d+\.\d)/i.test(a)&&(this.opera=+b.$1),/firefox\/(\d+\.\d)/i.test(a)&&(this.firefox=+b.$1),/(\d+\.\d)?(?:\.\d)?\s+safari\/?(\d+\.\d+)?/i.test(a)&&!/chrome/i.test(a)&&(this.safari=+(b.$1||b.$2)),/chrome\/(\d+\.\d)/i.test(a)&&(this.chrome=+b.$1,this.test360()&&(this.qihoo=!0)),/qqbrowser\/(\d+\.\d)/i.test(a)&&(this.tencent=!0),(/ucbrowser\/(\d+\.\d)/i.test(a)||/ubrowser\/(\d+\.\d)/i.test(a))&&(this.uc=!0);try{/(\d+\.\d)/.test(this.lang.getAttribute(window,"external.max_version"))&&(this.maxthon=+b.$1)}catch(a){}this.isWebkit=/webkit/i.test(a),this.isGecko=/gecko/i.test(a)&&!/like gecko/i.test(a);for(var c=["Android","iPad","Phone","iOS","iPod","Linux","Macintosh","Windows"],d="",e=0;e<c.length;e++){if(d=c[e],"iPad"===d||"iPhone"===d||"iOS"===d||"iPod"===d){this.isIOS=!0;break}if("Android"===d){this.isAndroid=!0;break}if(a.match(new RegExp(d.toLowerCase(),"i")))break}this.platform=d},test360:function(){try{return"scoped"in document.createElement("style")}catch(a){return!1}},getFlashPlayerVersion:function(){var a=0;try{var b="https:"===location.protocol;if(this.chrome>=45||b)return 0;if(this.nav.plugins&&this.nav.mimeTypes.length){var c=this.nav.plugins["Shockwave Flash"];c&&c.description&&(a=c.description.replace(/([a-zA-Z]|\s)+/,"").replace(/(\s)+r/,".")+".0")}if(0===a&&(this.win.ActiveXObject||this.win.hasOwnProperty("ActiveXObject")))for(var d=30;d>=2;d--)try{var e=new ActiveXObject("ShockwaveFlash.ShockwaveFlash."+d);if(e){var f=e.GetVariable("$version");if(a=f.replace(/WIN/g,"").replace(/,/g,"."),a>0)break}}catch(a){}a=parseInt(a,10),this.getFlashPlayerVersion=function(){return a}}catch(b){a=0}return a}}),a.define({name:"cookie",namespace:"dup.common.utility",deps:{lang:"dup.common.utility.lang"},get:function(a,b){var c=new RegExp("(^| )"+a+"=([^;]*)(;|$)"),d=c.exec(document.cookie);return d?b?decodeURIComponent(d[2]):d[2]:""},set:function(a,b,c,d){var e=c.expires;document.cookie=a+"="+(d?encodeURIComponent(b):b)+(c.path?"; path="+c.path:"")+(e?"; expires="+e.toGMTString():"")+(c.domain?"; domain="+c.domain:"")},remove:function(a){var b=new Date;b.setTime(b.getTime()-86400),this.set(a,"",{path:"/",expires:b})}}),a.define({name:"additionalParam",namespace:"dup.business.parameter",deps:{},$additionalParam:function(){this.paramsList=[]},ParamsMap:{clid:{key:"apdi",encode:!0},cuid:{key:"udi",encode:!0},ctkey:{key:"lcdi",encode:!0}},paramCheck:function(a,b){for(var c in b)if(c&&b.hasOwnProperty(c)&&this.ParamsMap[c]){var d=this.ParamsMap[c],e={};try{d.key&&(e.key=d.key,e.value=this.paramEncode(d,b[c])),d&&!d.key&&(e.key=c,e.value=this.paramEncode(d,b[c])),this.paramsList.push(e)}catch(a){}}},paramEncode:function(a,b){var c;return c=a.encode?encodeURIComponent(b):b}}),a.define({name:"requestCache",namespace:"dup.business",deps:{config:"dup.common.config"},slotInfoMap:{},secondResult:{},add:function(a,b){this.slotInfoMap[a]=b},get:function(a){return this.slotInfoMap[a]},cacheRequest:function(a,b){if(!a||this.secondResult[a])return!1;this.secondResult[a]=b;var c=this.get(a),d=this.config.CACHE_URL+"dpv="+a+"&di="+c.slotId;this.loadScript(d)},loadScript:function(a){var b=document.createElement("script");b.charset="utf-8",b.async=!0,b.src=a;var c=document.getElementsByTagName("head")[0]||document.body;c.insertBefore(b,c.firstChild)}}),a.define({name:"storage",namespace:"dup.common.utility",store:null,isAvailable:!1,$storage:function(){try{this.store=window.localStorage,this.store&&this.store.removeItem&&(this.isAvailable=!0)}catch(a){}},available:function(){var a=!1;return this.store&&this.store.removeItem&&(a=!0),a},setItem:function(a,b,c){if(this.store){b=c?encodeURIComponent(b):b;try{this.store.setItem(a,b)}catch(a){}}},getItem:function(a,b){if(this.store){var c=this.store.getItem(a);return b&&c?decodeURIComponent(c):c}return null},addItem:function(a,b,c){if(this.store){b=c?encodeURIComponent(b):b;var d=this.getItem(a)||"";d+=(d&&"|")+b;try{this.setItem(a,d)}catch(a){}}},removeItem:function(a){this.store&&this.store.removeItem(a)},spliceItem:function(a,b,c){if(this.store){b=c?encodeURIComponent(b):b;var d=this.getItem(a)||"";if(d=d.replace(new RegExp(b+"\\|?","g"),"").replace(/\|$/,""))try{this.setItem(a,d)}catch(a){}else this.store.removeItem(a)}}}),a.define({name:"loader",namespace:"dup.common",deps:{config:"dup.common.config"},$loader:function(){this.loadingCls=this.loadingCls||{}},load:function(b,c,d){var e=a.getClassPath(c),f=this.check(e);if(!f){var g=document.createElement("script");g.type="text/javascript",g.async=!0,g.src=e;var h=a.proxy(this,this.onLoadStatusHandler,b,g);g.onload=g.onerror=g.onreadystatechange=h;var i=document.getElementsByTagName("script")[0];i.parentNode.insertBefore(g,i),this.loadingCls[b]=d}},check:function(){for(var a in this.loadingCls)if(this.loadingCls.hasOwnProperty(a)&&this.loadingCls[a]===!0)return!0;return!1},onLoadStatusHandler:function(a,b,c){var b,c;3===arguments.length?(b=arguments[1],c=arguments[2]):(b=arguments[0],c=arguments[1]);var d=this.loadingCls[b];c&&/loaded|complete|undefined/.test(c.readyState)&&(c.onload=c.onerror=c.onreadystatechange=null,c=void 0,d&&d())}}),a.define({name:"float",namespace:"dup.ui.assertion.mobile",painterName:"float",assert:function(a){var b=a.placement,c=b.basic,d=b.container;return 1===c.rspFormat&&2===c.flowType&&(3===d.anchoredType||11===d.anchoredType)}}),a.define({name:"dynamicFloat",namespace:"dup.ui.assertion",deps:{},painterName:"dynamicFloat",assert:function(a){var b=a.placement,c=b.basic,d=b.container,e=d.floated;return!(1!==c.rspFormat||1!==c.flowType||1!==d.anchoredType||!e||8!==e.trigger)}}),a.define({name:"interface",namespace:"dup.business",deps:{lang:"dup.common.utility.lang"},apiMap:{},$Interface:function(){},register:function(b,c,d){this.apiMap[b]=a.proxy(c,d)},executeTask:function(a){for(var b in a){var c=a[b];if("array"===this.lang.getType(c)&&("id"!==b||"container"!==b||"size"!==b||"async"!==b)){var d=this.apiMap[b];if(d)return d.apply(null,c)}}},perform:function(a,b){var c=this.apiMap[a];return c?c.apply(null,b):void 0}}),a.define({name:"expBranch",namespace:"dup.business",deps:{config:"dup.common.config"},tactics:function(){var a=1e3-this.config.SHUNT_NUMBER,b=1e9*Math.random();b<1e6*this.config.SHUNT_NUMBER?(this.config.EXP_SATUS=!0,this.config.EXP_ID=this.config.RD_ID):b>=1e6*a&&(this.config.EXP_ID=this.config.BASE_ID)}}),a.define({name:"material",namespace:"dup.business",deps:{lang:"dup.common.utility.lang",config:"dup.common.config"},$material:function(){var a=this;this.materialFactory={},this.materialFactory.text=function(b){var c="font-size:{size:number}{unit:string};color:{defaultColor:string};font-weight:{defaultBold:string};font-style:{defaultItalic:string};text-decoration:{defaultUnderline:string};",d='<span style="word-wrap:break-word;"><a href="{clickUrl:string}" target="{target:string}" style="'+c+'"{events}>{text:string}</a></span>',e=/\{events\}/;if(1===b.version)d=d.replace(e,"");else if(2===b.version){var f="this.style.color='{defaultColor:string}';this.style.fontWeight='{defaultBold:string}';this.style.fontStyle='{defaultItalic:string}';this.style.textDecoration='{defaultUnderline:string}';",g="this.style.color='{hoverColor:string}';this.style.fontWeight='{hoverBold:string}';this.style.fontStyle='{hoverItalic:string}';this.style.textDecoration='{hoverUnderline:string}';",h=' onmouseover="'+g+'" onmouseout="'+f+'"';d=d.replace(e,h);for(var i=["default","hover"],j=0;j<i.length;j++){var k=i[j],l=k+"Color",m=k+"Bold",n=k+"Italic",o=k+"Underline";b[l]="#"+b[l],b[m]=b[m]?"bold":"normal",b[n]=b[n]?"italic":"normal",b[o]=b[o]?"underline":"none"}}return a.lang.format(d,b)},this.materialFactory.image='<a href="{clickUrl:string}" target="{target:string}"><img src="{src:string}" title="{title:html}" alt="{title:html}" border="0" height="{height:number}" width="{width:number}" /></a>',this.materialFactory.flash=function(b){var c=["<script>","var BD = BD || {};","BD.MC = BD.MC || {};","BD.MC.ADFlash = BD.MC.ADFlash || {};","BD.MC.ADImg = BD.MC.ADImg || {};","BD.MC.ADFlash.w = {width:number};","BD.MC.ADFlash.h = {height:number};",'BD.MC.ADFlash.mu = "{src:string}";','BD.MC.ADFlash.cu = "{clickUrl:string}";',"BD.MC.ADFlash.wm = {wmode:number};",'BD.MC.ADFlash.ct = "{clickTag:string}";',"BD.MC.ADImg.w = {imageWidth:number};","BD.MC.ADImg.h = {imageHeight:number};",'BD.MC.ADImg.mu = "{imageSrc:string}";','BD.MC.ADImg.cu = "{imageClickUrl:string}";','BD.MC.ADImg.tw = "{target:string}";',"BD.MC.ADImg.flag = {backupImage:number};","</script>",'<script src ="','//cbjs.baidu.com/js/{file:string}.js">',"</script>"];return b.file=b.hasLink?"cflash":"flash",b.imageClickUrl=b.clickUrl,b.hasLink||(b.clickUrl=""),a.lang.format(c.join(""),b)},this.materialFactory.rich=function(a){return a.content},this.materialFactory.slide=function(b,c){for(var d='<div id="bd_ec_clb_asp" style="width:{width:number}px;height:{height:number}px;overflow:hidden;">{html:string}</div><script>(function(){var d = document;function G(id) { return d.getElementById(id); };var container = G("bd_ec_clb_asp");var pages = container.childNodes;var pl = 0;for (var i = 0; i < pages.length; i++) {if (pages[i].nodeType === 1) {pl++;}}var cp = 0;function showPage(pn) { pages[pn].style.display = ""; };function hidePages() {for (var i = 0; i < pl; i++) {pages[i].style.display = "none";}};function roll() {hidePages();showPage(cp);cp == (pages.length - 1) ? cp = 0 : cp++;};var autoRoll;function setRoll() { autoRoll = window.setInterval(function() { roll(); }, {interval:number});};roll();setRoll();container.onmouseover = function() { window.clearInterval(autoRoll); };container.onmouseout = function() {setRoll(); };})();</script>',e=[],f=b.materials,g=0;g<f.length;g++){var h=f[g];"string"!=typeof h&&(h=a.formatMaterial(h,c,!0)),e.push(h)}b.html="<div>"+e.join("</div><div>")+"</div>";var i=c.response.placement,j=i.container;return b.width=c.width||j.width,b.height=c.height||j.height,a.lang.format(d,b)}},formatMaterial:function(a,b,c){if("string"==typeof a)return a;if(!a.type)return"";var d=this.materialFactory[a.type];if(d){var e="string"==typeof d?this.lang.format(d,a):d(a,b);return c?e:"<!DOCTYPE html><body>"+e}return""}}),a.define({name:"monitor",namespace:"dup.business",sendLog:function(a){if(a.response){var b=a.response.pdb_deliv.deliv_des,c=b._html,d=c&&c.monitorUrl;if(d){var e=new Image,f="log"+ +new Date;window[f]=e,"http"==d.substr(0,4).toLowerCase()?("http://"==d.substr(0,7).toLowerCase()&&(d=d.replace("http://","//")),"https://"==d.substr(0,8).toLowerCase()&&(d=d.replace("https://","//"))):d="//"+d;var g=function(){e.onload=e.onerror=e.onabort=null;try{delete window[f]}catch(a){window[f]=void 0}};e.onload=e.onerror=e.onabort=g,e.src=d}}}}),a.define({name:"inlayFix",namespace:"dup.ui.assertion",deps:{},painterName:"inlayFix",assert:function(a){var b=a.placement,c=b.basic,d=b.container,e=d.floated;return 1===c.rspFormat&&1===c.flowType&&1===d.anchoredType&&(!e||(1===e.trigger||!this.isFloat(e)))},isFloat:function(a){for(var b in a)return!0;return!1}}),a.define({name:"float",namespace:"dup.ui.assertion",deps:{},painterName:"float",assert:function(a){var b=a.placement,c=b.basic,d=b.container;return 1===c.rspFormat&&1===c.flowType&&3===d.anchoredType}}),a.define({name:"unicode",namespace:"dup.common.utility",deps:{},toDecode:function(a){var b=[];if(a instanceof Array){for(var c=0;c<a.length;c++){var d=a[c];b.push(this.decode(d))}return b}return"string"==typeof a?this.decode(a):void 0},toEncode:function(a){var b=[];if(a instanceof Array){for(var c=0;c<a.length;c++){var d=a[c];b.push(this.encode(d))}return b}return"string"==typeof a?this.encode(a):void 0},decode:function(a){return unescape(a.replace(/\\(u[0-9a-fA-F]{4})/gm,"%$1"))},encode:function(a){return escape(a).replace(/%(u[0-9A-F]{4})|(%[0-9A-F]{2})/gm,function(a,b,c){return b&&"\\"+b.toLowerCase()||unescape(c)})}}),a.define({name:"dom",namespace:"dup.common.utility",deps:{lang:"dup.common.utility.lang",browser:"dup.common.utility.browser"},$dom:function(){},g:function(a,b){return a?"string"===this.lang.getType(a)&&a.length>0?(b=b||window,b.document.getElementById(a)):!a.nodeName||1!==a.nodeType&&9!==a.nodeType?null:a:null},getDocument:function(a){return 9===a.nodeType?a:a.ownerDocument||a.document},getWindow:function(a){var b=this.getDocument(a);return b.parentWindow||b.defaultView||null},isWindow:function(a){try{if(a&&"object"==typeof a&&a.document&&"setInterval"in a)return!0}catch(a){return!1}return!1},isInIframe:function(a,b){return a=a||window,a!=window.top&&a!=a.parent||!this.isWindow(a)},checkParentAccess:function(a){try{return!!a.parent.location.toString()}catch(a){return!1}},isInCrossDomainIframe:function(a,b){b=2===arguments.length?b:a.parent;for(var c=0,d=10;c++<d&&this.isInIframe(a,b);){if(!this.checkParentAccess(a))return!0;a=a.parent}return c>=d},ready:function(b,c,d){d=d||this.win||window;var e=d.document;c=c||0,this.domReadyMonitorRunTimes=0,this.readyFuncArray=this.readyFuncArray||[],this.readyFuncArray.push({func:b,delay:c,done:!1});var f=a.proxy(this,function(){var a=!1;this.domReadyMonitorRunTimes++;var b=!1;try{d.frameElement&&(b=!0)}catch(a){b=!0}if(this.browser.ie&&this.browser.ie<9&&!b)try{e.documentElement.doScroll("left"),a=!0}catch(a){}else if("complete"===e.readyState||this.domContentLoaded)a=!0;else if(this.domReadyMonitorRunTimes>3e5)return void(this.domReadyMonitorId&&(d.clearInterval(this.domReadyMonitorId),this.domReadyMonitorId=null));if(a)try{if(this.readyFuncArray&&this.readyFuncArray.length)for(var c=0,f=this.readyFuncArray.length;f>c;c++){var g=this.readyFuncArray[c];g&&g.func&&!g.done&&(g.delay?(g.done=!0,d.setTimeout(g.func,g.delay)):(g.done=!0,g.func()))}}catch(a){throw a}finally{this.domReadyMonitorId&&(d.clearInterval(this.domReadyMonitorId),this.domReadyMonitorId=null)}},this),g=a.proxy(this,function(){this.domContentLoaded=!0,f()});this.domReadyMonitorId||(this.domReadyMonitorId=d.setInterval(f,50),e.addEventListener?(e.addEventListener("DOMContentLoaded",g,!1),d.addEventListener("load",g,!1)):e.attachEvent&&d.attachEvent("onload",g,!1))},bind:function(a,b,c){return"string"==typeof a&&(a=this.g(a)),b=b.replace(/^on/i,"").toLowerCase(),a.addEventListener?a.addEventListener(b,c,!1):a.attachEvent&&a.attachEvent("on"+b,c),a},getNotCrossDomainTopWindow:function(a,b){1===arguments.length&&"number"===this.lang.getType(arguments[0])&&(b=arguments[0],a=void 0),b=b||10;for(var c=window,d=0;d++<b&&this.isInIframe(c)&&!this.isInCrossDomainIframe(c)&&(!a||!a(c));)c=c.parent;return c},getTopElement:function(a){var b=this.isWindow(a)?a.document:this.getDocument(a);return"CSS1Compat"===b.compatMode?b.documentElement:b.body},getDocumentTitle:function(){var a=this.getNotCrossDomainTopWindow(),b=a.document.title,c=60;return b.length>c&&(b=b.substr(0,c)),b},getPageClient:function(){var a;return"number"==typeof window.innerWidth?a={width:window.innerWidth,height:window.innerHeight}:document.documentElement&&document.documentElement.clientWidth?a={width:document.documentElement.clientWidth,height:document.documentElement.clientHeight}:document.body&&document.body.clientWidth&&(a={width:document.body.clientWidth,height:document.body.clientHeight}),a},getNotCrossDomainWin:function(){var a=this.getWinList();return a[a.length-1]},getWinList:function(){for(var a=0,b=window,c=b.top,d=[b];b!==c&&a++<10&&this.isWindow(b)&&this.isWindow(b.parent);)b=b.parent,d.push(b);return getWinList=function(){return d},d}}),a.define({name:"style",namespace:"dup.common.utility",deps:{dom:"dup.common.utility.dom",lang:"dup.common.utility.lang",browser:"dup.common.utility.browser"},$style:function(){},getClientWidth:function(a){a=a||window;try{var b=this.dom.getTopElement(a).clientWidth;if(b||0===b)return b}catch(a){}return-1},getClientHeight:function(a){a=a||window;try{var b=this.dom.getTopElement(a).clientHeight;if(b||0===b)return b}catch(a){}return-1},getPositionCore:function(a){var b={top:0,left:0};if(a===this.dom.getTopElement(a))return b;var c=this.dom.getDocument(a),d=c.body,e=c.documentElement;if(a.getBoundingClientRect){var f=a.getBoundingClientRect();b.left=Math.floor(f.left)+Math.max(e.scrollLeft,d.scrollLeft),b.top=Math.floor(f.top)+Math.max(e.scrollTop,d.scrollTop),b.left-=e.clientLeft,b.top-=e.clientTop;var g=this.getStyle(d,"borderLeftWidth"),h=this.getStyle(d,"borderTopWidth"),i=parseInt(g,10),j=parseInt(h,10);b.left-=isNaN(i)?2:i,b.top-=isNaN(j)?2:j}return b},getStyle:function(a,b){if(!a)return"";var c="";c=b.indexOf("-")>-1?b.replace(/[-][^-]{1}/g,function(a){return a.charAt(1).toUpperCase()}):b.replace(/[A-Z]{1}/g,function(a){return"-"+a.charAt(0).toLowerCase()});var d,e=this.dom.getWindow(a);if(e&&e.getComputedStyle){if(d=e.getComputedStyle(a,null))return d.getPropertyValue(b)||d.getPropertyValue(c)}else if(a.currentStyle)return d=a.currentStyle,d[b]||d[c];return""},getPosition:function(a){if(a){var b=this.dom.g(a);if(!b)return!1;var c=this.getPositionCore(b),d=this.dom.getWindow(b);if(!d)return c;for(var e=0,f=10;d!==d.parent&&e++<f&&!this.dom.isInCrossDomainIframe(d)&&d.frameElement;){var g=this.getPositionCore(d.frameElement);c.left+=g.left,c.top+=g.top,d=d.parent}return c}},getOpacityInWin:function(a){for(var b=a,c=this.dom.getWindow(b),d=100;b&&b.tagName;){var e=100;if(this.browser.ie){if(this.browser.ie>5)try{e=parseInt(this.lang.getAttribute(b,"filters.alpha.opacity"),10)||100}catch(a){}d=d>e?e:d}else{try{e=100*(c.getComputedStyle(b,null).opacity||1)}catch(a){}d*=e/100}b=b.parentNode}return 0===d?0:d||100},getOpacity:function(a){for(var b=this.dom.g(a),c=this.dom.getWindow(b),d=this.getOpacityInWin(b),e=0,f=10;e++<f&&this.dom.isInIframe(c)&&!this.dom.isInCrossDomainIframe(c);){var g=c.frameElement?this.getOpacityInWin(c.frameElement):100;d*=g/100,c=c.parent}return d},getScrollWidth:function(a){a=a||window;try{var b=this.dom.getTopElement(a).scrollWidth;if(b||0===b)return b}catch(a){}return-1},getScrollHeight:function(a){a=a||window;try{var b=this.dom.getTopElement(a).scrollHeight;if(b||0===b)return b}catch(a){}return-1},getScrollTop:function(a){a=a||window;var b=a.document;return a.pageYOffset||b.documentElement.scrollTop||b.body.scrollTop},getScrollLeft:function(a){var b=a||window,c=this.dom.getTopElement(b);return b.pageXOffset||c.scrollLeft},getOuterWidth:function(a,b){var c=this.dom.g(a),d=c.offsetWidth;return b&&(d+=this.getMargin(c,"Left")+this.getMargin(c,"Right")),d},getMargin:function(a,b){var c=this.getStyle(a,"margin"+b).toString().toLowerCase().replace("px","").replace("auto","0");return parseInt(c,10)||0},getOuterHeight:function(a,b){var c=this.dom.g(a),d=c.offsetHeight;return b&&(d+=this.getMargin(c,"Top")+this.getMargin(c,"Bottom")),d},canFixed:function(){var a=!0;return this.browser.ie&&(this.browser.ie<7||"BackCompat"===document.compatMode)&&(a=!1),a},setStyle:function(a,b,c){var d=this.dom.g(a);d.style[b]=c},setStyles:function(a,b){for(var c in b)b.hasOwnProperty(c)&&this.setStyle(a,c,b[c]);return a},getDefaultStyle:function(a,b){return a.currentStyle?a.currentStyle[b]:document.defaultView.getComputedStyle(a,!1)[b]},isVisible:function(a){return"none"!==this.getDefaultStyle(a,"display")&&"hidden"!==this.getDefaultStyle(a,"visibility")&&"100"==this.getOpacity(a)}}),a.define({name:"url",namespace:"dup.common.utility",deps:{dom:"dup.common.utility.dom"},getQueryValue:function(a,b,c){var d=new RegExp("(\\?|&|#)"+b+"=([^&#]*)(&|#)?"),e=a.match(d),f="";return e&&(f=e[2]),c&&(f=decodeURIComponent(f)),f},getTopWindowUrl:function(a){var b=this.dom.getNotCrossDomainTopWindow(a),c="";return this.dom.isInIframe(b)&&(c=b.document.referrer),c=c||b.location.href},domainProto:function(a){var b;if(a&&"string"==typeof a){var c=a.toString()||"";if(!c)return"";var d=c.substring(c.length-1);return"/"!==d&&(c+="/"),b=c.replace("http:","").replace("https:",""),b.indexOf("//")<0&&(b="//"+b),b}},getMainDomain:function(a){a=a||document.domain,0===a.indexOf("www.")&&(a=a.substr(4)),"."===a.charAt(a.length-1)&&(a=a.substring(0,a.length-1));var b=["com","cn","net","org","gov","info","la","cc","co","jp","us","hk","tv","me","biz","in","be","io","tk","cm","li","ru","ws","hn","fm","tw","ma","in","vn","name","mx","gd","im"],c=new RegExp("([a-z0-9][a-z0-9\\-]*?\\.(?:"+b.join("|")+")(?:\\.(?:cn|jp|tw|ru|th))?)$","i"),d=a.match(c);
return d?d[0]:a},queryToJson:function(a){for(var b,c,d,e,f=a.substr(a.indexOf("?")+1),g=f.split("&"),h=g.length,i={},j=0;h>j;j++)e=g[j].split("="),b=e[0],c=e[1],d=i[b],"undefined"==typeof d?i[b]=c:"[object Array]"==Object.prototype.toString.call(d)?d.push(c):i[b]=[d,c];return i},getQueryURI:function(a){for(var b=[],c=0;a>c;c++){var d=String.fromCharCode(Math.floor(26*Math.random())+"a".charCodeAt(0)),e=/^[a-z]+$/g;e.test(d)&&b.push(d)}return b}}),a.define({name:"data",namespace:"dup.common.utility",deps:{lang:"dup.common.utility.lang",dom:"dup.common.utility.dom"},$data:function(){this.pageInfo={}},data:function(){this.topWin=this.dom.getNotCrossDomainTopWindow(),this.globalInfo=this.topWin.BAIDU_SSP__info||(this.topWin.BAIDU_SSP__info={})},forEach:function(a,b){var c,d,e,f=a.length;if("function"==typeof b)for(e=0;f>e&&(d=a[e],c=b.call(a,d,e),c!==!1);e++);return a},putInfo:function(a,b,c){var d,e=c?this.globalInfo:this.pageInfo;if("string"===this.lang.getType(a)){for(var f=a.split("."),g=e;f.length;){var h=f.shift();g[h]=f.length?void 0!==g[h]?g[h]:{}:b,g=g[h]}d=b}return d},removeInfo:function(a,b){var c=b?this.globalInfo:this.pageInfo;switch(this.lang.getType(a)){default:return!1;case"string":for(var d=a.split(".");d.length;){var e=d.shift();if(!d.length||void 0===c[e])return delete c[e],!0;c=c[e]}}return!1},getInfo:function(a,b){var c,d=b?this.globalInfo:this.pageInfo;return"string"===this.lang.getType(a)&&(c=this.lang.getAttribute(d,a)),c},getOnce:function(a){var b=window,c=b[a];return b[a]=void 0,c},defineOnce:function(a,b){var c=window;return c[a]?c[a]:(c[a]=b,b)},getConfig:function(a){return!!a&&(this.pageInfo=this.getInfo("pageConfig")||{},this.pageInfo[a])},putConfig:function(a,b){return!(!a||!b)&&(this.pageInfo=this.getInfo("pageConfig")||{},this.pageInfo[a]=b,this.putInfo("pageConfig",this.pageInfo),!0)}}),a.define({name:"origentation",namespace:"dup.business",deps:{lang:"dup.common.utility.lang",data:"dup.common.utility.data"},orientKey:"bizOrientations",orientUrgentKey:"bizUrgentOrientations",hasOwn:Object.prototype.hasOwnProperty,watchingSlotsMap:{},slotFinishedCallback:function(){},addOrientation:function(a,b){var c=this.beforeSavingOrientation.apply(this,arguments);return this.saveOrientation(a,c)},addOrientationOnce:function(a,b){var c=this.beforeSavingOrientation.apply(this,arguments);return this.saveOrientation(a,c,{urgent:!0,merge:!0})},setOrientationOnce:function(a,b){var c=this.beforeSavingOrientation.apply(this,arguments);return this.saveOrientation(a,c,{urgent:!0,override:!0})},beforeSavingOrientation:function(a,b){var c=/^[0-9a-zA-Z]+$/;return a&&c.test(a)&&b?b="array"===this.lang.getType(b)?b:Array.prototype.slice.call(arguments,1):[]},saveOrientation:function(a,b,c){if(!b||!b.length)return!1;c=c||{urgent:!1,merge:!1,override:!1};var d=c.merge?this.data.getInfo(this.orientKey):{},e=c.urgent?this.orientUrgentKey:this.orientKey,f=c.override?{}:this.data.getInfo(e)||d,g={};for(var h in f)this.hasOwn.call(f,h)&&(g[h]="array"===this.lang.getType(f[h])?f[h].slice():f[h]);for(var i=g[a]||[],j=b.length,k=0;j>k;k++){var l=b[k];"string"==typeof l&&(l=encodeURIComponent(l),l.length<=100&&(i[i.length]=l))}return!!i.length&&(g[a]=this.lang.unique(i),this.data.putInfo(e,g),!0)},getOrientationQuery:function(a){a=a||500,a=Math.max(0,Math.min(a,500));var b,c=[],d=this.data.getInfo(this.orientUrgentKey)||this.data.getInfo(this.orientKey)||{};if("object"===this.lang.getType(d))for(var e in d)this.lang.hasOwn.call(d,e)&&(b=e+"="+d[e].join(","),c[c.length]=b);this.data.putInfo(this.orientUrgentKey,void 0),c.sort(function(a,b){return a.length-b.length});for(var f="",g=c.length,h=0;g>h&&!(f.length+c[h].length>=a);h++)f+=(h?"&":"")+c[h];return f},addSlotStatusCallback:function(a,b){this.setSlotFinishCallback(a),this.addWatchSlotId(b)},setSlotFinishCallback:function(a){this.slotFinishedCallback=a},addWatchSlotId:function(a){this.watchingSlotsMap[a]=!0}}),a.define({name:"browserParam",namespace:"dup.business.parameter",deps:{config:"dup.common.config",browser:"dup.common.utility.browser",dom:"dup.common.utility.dom",style:"dup.common.utility.style",url:"dup.common.utility.url",cookie:"dup.common.utility.cookie"},$browserParam:function(){this.win=window,this.doc=this.win.document,this.nav=this.win.navigator},getTopWin:function(){return this.topWindow||(this.topWindow=this.dom.getNotCrossDomainTopWindow()),this.topWindow},paramsList:[{key:"dbv",value:function(){return this.browser.qihoo?"1":this.browser.chrome?"2":"0"}},{key:"drs",value:function(){var a={uninitialized:0,loading:1,loaded:2,interactive:3,complete:4};try{return a[this.doc.readyState]}catch(a){return-1}}},{key:"pcs",value:function(){var a=[this.style.getClientWidth(this.getTopWin()),this.style.getClientHeight(this.getTopWin())];return a.join("x")}},{key:"pss",value:function(){var a=[this.style.getScrollWidth(this.getTopWin()),this.style.getScrollHeight(this.getTopWin())];return a.join("x")}},{key:"cfv",value:function(){return this.browser.getFlashPlayerVersion()}},{key:"cpl",value:function(){return this.nav.plugins.length||0}},{key:"chi",value:function(){return this.win.history.length||0}},{key:"cce",value:function(){return this.nav.cookieEnabled||0}},{key:"cec",value:function(){return(this.doc.characterSet?this.doc.characterSet:this.doc.charset)||""}},{key:"tlm",value:function(){return Date.parse(this.doc.lastModified)/1e3}},{key:"prot",value:function(){return"https:"===this.config.HTTP_PROTOCOL?"2":""}},{key:"rw",value:function(){var a=Math.max(320,Math.min(window.innerWidth,window.innerHeight));return isNaN(a)&&(a=Math.min(this.style.getClientWidth(),this.style.getClientHeight())),a||0}},{key:"ltu",encode:!0,limit:700,value:function(){if(this.slotInfo.rpdn&&0!==location.protocol.indexOf("http"))return this.config.HTTP_PROTOCOL+"//"+this.slotInfo.rpdn;var b=a.proxy(this,function(a){var b=200,c=60,d=this.style.getClientWidth(a),e=this.style.getClientHeight(a);return b>0&&c>0&&d>2*b&&e>2*c}),c=this.url.getTopWindowUrl(b);return c.indexOf("cpro_prev")>0&&(c=c.slice(0,c.indexOf("?"))),c}},{key:"liu",encode:!0,limit:700,value:function(){return this.dom.isInIframe(this.win)?this.doc.URL:""}},{key:"ltr",encode:!0,limit:300,value:function(){var a=this.getTopWin(),b="";try{b=a.opener?a.opener.document.location.href:""}catch(a){}return b||a.document.referrer}},{key:"lcr",encode:!0,value:function(){if("union"===this.slotInfo.productLine)return"";var a=this.doc.referrer,b=a.replace(/^https?:\/\//,"");b=b.split("/")[0],b=b.split(":")[0],b=this.url.getMainDomain(b);var c=this.url.getMainDomain(),d=this.cookie.get(this.config.LCR_COOKIE_NAME);return d&&c===b?d:c!==b?(this.cookie.set(this.config.LCR_COOKIE_NAME,a,{domain:c}),a):""}},{key:"ecd",encode:!0,value:function(){return this.browser.ie&&this.browser.ie<8?0:1}}],setSlotInfo:function(a){this.slotInfo=a}}),a.define({name:"systemParam",namespace:"dup.business.parameter",deps:{dom:"dup.common.utility.dom",style:"dup.common.utility.style"},$systemParam:function(){this.win=window,this.doc=this.win.document,this.screen=this.win.screen,this.nav=this.win.navigator},paramsList:[{key:"psr",value:function(){var a=[this.screen.width,this.screen.height];return a.join("x")}},{key:"par",value:function(){var a=[this.screen.availWidth,this.screen.availHeight];return a.join("x")}},{key:"pis",value:function(){var a=this.dom.isInIframe(this.win)?[this.style.getClientWidth(),this.style.getClientHeight()]:[-1,-1];return a.join("x")}},{key:"ccd",value:function(){return this.screen.colorDepth||0}},{key:"cja",value:function(){return this.nav.javaEnabled().toString()}},{key:"cmi",value:function(){return this.nav.mimeTypes.length||0}},{key:"col",value:function(){return(this.nav.language||this.nav.browserLanguage||this.nav.systemLanguage||"").replace(/[^a-zA-Z0-9\-]/g,"")}},{key:"cdo",value:function(){var a=this.win.orientation;return void 0===a&&(a=-1),a}},{key:"tcn",value:function(){var a=+new Date;return Math.round(a/1e3)}}]}),a.define({name:"event",namespace:"dup.common.utility",deps:{dom:"dup.common.utility.dom"},bind:function(a,b,c){var d=this.dom.isWindow(a)?a:this.dom.g(a);if(d)if(d.addEventListener)d.addEventListener(b,c,!1);else if(d.attachEvent)d.attachEvent("on"+b,c);else{var e=d["on"+b];d["on"+b]=function(){e&&e.apply(this,arguments),c.apply(this,arguments)}}return d},off:function(a,b,c){var d,e,f=a._listeners_;if(!f)return a;if("undefined"==typeof b){for(d in f)delete f[d];return a}if(b.indexOf("on")&&(b="on"+b),"undefined"==typeof c)delete f[b];else if(e=f[b])for(d=e.length-1;d>=0;d--)e[d].handler===c&&e.splice(d,1);return a},unBind:function(a,b,c){return"string"==typeof a&&(a=this.dom.g(a)),a=this.off(a,b.replace(/^\s*on/,""),c)},app:function(a,b){return a.bind.apply(a,Array.prototype.slice.call(arguments,1))}}),a.define({name:"fingerPrint",namespace:"dup.business",deps:{browser:"dup.common.utility.browser",event:"dup.common.utility.event",dom:"dup.common.utility.dom",storage:"dup.common.utility.storage"},start:function(){this.idPrefix="BAIDU_DUP_fp_",this.fpElId=this.idPrefix+"wrapper",this.dom.g(this.fpElId)||this.event.bind(window,"load",a.proxy(this,this.createFPIframe))},createFPIframe:function(){if(!this.dom.g(this.fpElId)){var a=window,b=a.document,c=b.body,d=this.dom.isInIframe(a)?b.URL:"",e=null,f=null;if((this.browser.ie>9||!this.browser.ie)&&d)try{e=b.cookie,f=this.storage.isAvailable}catch(a){return}var g="https://pos.baidu.com/wh/o.htm?ltr=",h=b.createElement("div");h.id=this.fpElId,h.style.position="absolute",h.style.left="-1px",h.style.bottom="-1px",h.style.zIndex=0,h.style.width=0,h.style.height=0,h.style.overflow="hidden",h.style.visibility="hidden",h.style.display="none";var i=b.createElement("iframe");i.id=this.idPrefix+"iframe",i.src=g,i.style.width=0,i.style.height=0,i.style.visibility="hidden",i.style.display="none";try{h.insertBefore(i,h.firstChild),c&&c.insertBefore(h,c.firstChild)}catch(a){}}}}),a.define({name:"asserter",namespace:"dup.ui.assertion",deps:{mobile:"dup.ui.assertion.mobile.float",dynamicFloat:"dup.ui.assertion.dynamicFloat"},assert:function(a){for(var b=a.response.placement.userdefine||"",c=b.split("|"),d={},e=0,f=c.length;f>e;e++){var g=c[e],h=g.split("="),i=h[0];i&&(d[i]=h[1])}if(d.hasOwnProperty("painter"))return d.painter;var j=a.styleOpenApi.tn||"",k=parseInt(a.styleOpenApi.xuanting||0,10);return j.indexOf("mobile")>=0?k>0||this.mobile.assert(a.response)?"mobile.float":"mobile.inlayFix":"template_float_searchBar"===j?"searchBar":"template_float_bottom_lu"===j?"slide":j.indexOf("_xuanfu")>=0||j.indexOf("float")>=0?"float":k>0||this.dynamicFloat.assert(a.response)?"dynamicFloat":j&&j.length>0?"inlayFix":""}}),a.define({name:"sceneTactics",namespace:"dup.business",deps:{config:"dup.common.config",exp:"dup.business.expBranch",url:"dup.common.utility.url",browser:"dup.common.utility.browser"},$sceneTactics:function(){try{this.QueryURI=this.url.getQueryURI(2)}catch(a){this.QueryURI=["a","o"]}this.config.REQUEST_URL_CNAME&&this.replaceDomain(),this.config.POS_URL||(this.config.POS_URL=this.config.HTTP_PROTOCOL+this.config.REQUEST_URL+this.QueryURI[0]+"c"+this.QueryURI[1]+"m?"),this.config.EXP_SWITCH&&this.exp.tactics()},sceneTactics:function(){},replaceDomain:function(){(this.browser.uc||this.browser.tencent)&&(this.config.REQUEST_URL=this.url.domainProto(this.config.REQUEST_URL_CNAME),this.config.IS_CNAME=!0)}}),a.define({name:"creativePreview",namespace:"dup.business",deps:{url:"dup.common.utility.url",dom:"dup.common.utility.dom",cookie:"dup.common.utility.cookie",config:"dup.common.config",lang:"dup.common.utility.lang"},PREV_TEMP_URL:"//cpro.baidu.com/cpro/ui/preview/templates/",validate:function(a,b,c,d,e){var f=!1,g=this.getPrevValue(c,e);if(!g)return f;for(var h=this.parsePreviewData(g),i=1===parseInt(h.type,10),j=!(d.length>0),k=!(d.length>0),l=0,m=d.length;m>l;l++){var n=d[l];0===n?k=!0:4===n||50===n?(k=!0,j=!0):1!==n&&2!==n||(j=!0)}return!i&&j?f=parseInt(h.imgWidth,10)===parseInt(a,10)&&parseInt(h.imgHeight,10)===parseInt(b,10):i&&k&&this.isAvalibleTextSize(a,b)&&(f=!0),f},isAvalibleTextSize:function(a,b){for(var c=["1024_60","120_240","120_600","125_125","160_600","180_150","200_200","234_60","250_250","300_120","300_250","300_280","336_280","360_150","360_300","460_60","468_60","480_160","500_200","580_90","640_60","728_90","760_60","760_75","760_90","960_60","960_75","960_90"],d=0,e=c.length;e>d;d++)if(a+"_"+b===c[d])return!0;return!1},getPreviewUrl:function(a,b,c,d){var e=window.location.href;if(!this.validate(a,b,d,c,e))return"";var f=d.indexOf("inlay")>=0?"bd_cpro_prev":"bd_cpro_fprev",g=this.getPrevValue(d,e),h=this.parsePreviewData(g),i="";return d.indexOf("inlay")>=0?i=this.getInlayUrl(parseInt(h.type,10),f,g,"text_default_"+a+"_"+b):d.indexOf("float")>=0&&(i=this.getFloatUrl(parseInt(h.type,10),f,g)),i},getPrevValue:function(a,b){var c;c=b?b.substring(b.indexOf("?")):this.dom.isInCrossDomainIframe(window)?window.location.search.slice(1):window.top.location.search.slice(1);var d,e=document.referrer,f=a.indexOf("inlay")>=0||"ui"===a?"bd_cpro_prev":"bd_cpro_fprev",g="";try{d=document.cookie}catch(a){}return c.indexOf(f)>-1&&(g=this.url.getQueryValue(c,f)),!g&&d&&-1!==d.indexOf(f)&&(g=this.cookie.get(f)),g||-1===e.indexOf(f)||(g=this.url.getQueryValue(e,f)),g},parsePreviewData:function(a){return a=decodeURIComponent(a).replace(/\\x1e/g,"&").replace(/\\x1d/g,"=").replace(/\\x1c/g,"?").replace(/\\x5c/g,"\\"),this.lang.jsonToObj(a)},getFloatUrl:function(a,b,c){var d;d=2===a?"float_image.html":4===a||3===a?"float_flash.html":"blank_tips.html";var e=this.PREV_TEMP_URL+d+"?",f="tn=template_float_all_normal"+("&"+b+"="+c).replace(/\./g,"%252e")+"&ut="+ +new Date;return e+f},getInlayUrl:function(a,b,c,d){var e;e=1===a?d+".html":2===a?"image.html":4===a||3===a?"flash.html":"blank_tips.html";var f=this.PREV_TEMP_URL+e+"?";return f+=(""+b+"=#"+c+"&ut="+ +new Date).replace(/\.(?!swf)/g,"%252e")}}),a.define({name:"deliveryLimit",namespace:"dup.business",deps:{inlayFixAssert:"dup.ui.assertion.inlayFix",dynamicFloatAssert:"dup.ui.assertion.dynamicFloat",floatAssert:"dup.ui.assertion.float",dom:"dup.common.utility.dom"},MAX_COUNT:{},TYPE:{INLAY:"inlay",COUPLET:"couplet",POPUP:"popup",LINKUNIT:"linkunit"},$deliveryLimit:function(){this.displayedMap=this.displayedMap||{},this.MAX_COUNT[this.TYPE.INLAY]=25,this.MAX_COUNT[this.TYPE.COUPLET]=2,this.MAX_COUNT[this.TYPE.POPUP]=1,this.MAX_COUNT[this.TYPE.LINKUNIT]=25},validate:function(a){if("union"!==a.productLine)return!0;var b=this.getSlotType(a),c=this.getAdCount(b),d=this.MAX_COUNT[b];return d>c},getAdCount:function(a){var b=this.displayedMap[a]||{},c=0;for(var d in b)d&&b[d]&&b.hasOwnProperty(d)&&(this.dom.g(d)?c++:b[d]=void 0);return c},setAdsCount:function(a,b){var c=this.displayedMap[a];return c||(this.displayedMap[a]={},c=this.displayedMap[a]),c[b]=1,!0},getSlotType:function(a){var b=this.TYPE.INLAY,c=a.response;if(!c)return b;var d=c.placement;if((this.inlayFixAssert.assert(c)||this.dynamicFloatAssert.assert(c))&&(b=this.TYPE.INLAY),d&&d.fillstyle)for(var e=c.placement.fillstyle.elements||[],f=0,g=e.length;g>f;f++)if(5===e[f])return this.TYPE.LINKUNIT;return b}}),a.define({name:"landingPage",namespace:"dup.ui.painter",deps:{lang:"dup.common.utility.lang",style:"dup.common.utility.style",browser:"dup.common.utility.browser",dom:"dup.common.utility.dom"},activate:function(b){return!!this.validate(b)&&(this.expansionActionName="BaiduCproExpansion"+b.containerId,this.pageIframeId=b.containerId+"_ExpansionLP",b.paramObj.expToken=this.expansionActionName,this.dom.bind(window,"message",a.proxy(this,this.onPostMessageHandler)),!0)},validate:function(a){var b=parseInt(a.styleOpenApi.expansion||0,10);return 1===b&&!this.browser.isIOS&&"postMessage"in window},onPostMessageHandler:function(b){if("object"==typeof b&&b.data){var c=b.data;if("string"==typeof c&&!(c.indexOf(this.expansionActionName)<0)){this.expandContainerEl=document.createElement("div");var d=Math.max(this.style.getClientWidth(),this.style.getClientHeight()),e=this.expandContainerEl.style;e.position="fixed",e.left="0",e.top=d+"px",e.zIndex=2147483647,e.background="#ffffff",e.width="100%",e.transition=e.WebkitTransition=e.MozTransition=e.OTransition="top 1s ease-in-out",c=c.slice(this.expansionActionName.length);var f=['<iframe id="{lpIframeId}" ','src="{clickUrl}" width="{iframeWidth}" ','height="{iframeHeight}" align="center,center" ','marginwidth="0"  marginheight="0" ','frameborder="0"></iframe>','<div id="{lpIframeId}_closeBtn" ','style="position:absolute;right:0;top:0;',"width:{closeBtnSize}px;","height:{closeBtnSize}px;","overflow:hidden;display:block;","background:url('https://cpro.baidustatic.com/cpro/ui/noexpire/img/2.0.0/xuantingClose.png') ","no-repeat 0 0; ","_filter:progid:DXImageTransform",".Microsoft.AlphaImageLoader(","enabled=true, sizingMethod=none, ","src='https://cpro.baidustatic.com/cpro/ui/noexpire/img/2.0.0/xuantingClose.png');","_background:none;cursor:pointer;",'background-position:center;background-size:100%,100%;">&nbsp;</div>'].join(""),g=Math.min(this.style.getClientWidth(),this.style.getClientHeight()),h={lpIframeId:this.pageIframeId,clickUrl:c,iframeWidth:this.style.getClientWidth(),iframeHeight:this.style.getClientHeight(),closeBtnSize:80*g/640};this.expandContainerEl.innerHTML=this.lang.template(f,h),this.expandContainerEl.style.top="0",document.body.appendChild(this.expandContainerEl),this.dom.bind(window,"resize",a.proxy(this,this.onResizeHandler));var i=this.dom.g(this.pageIframeId+"_closeBtn");this.dom.bind(i,"click",a.proxy(this,this.onCloseBtnClickHandler))}}},onCloseBtnClickHandler:function(){this.expandContainerEl.style.top=Math.max(this.style.getClientWidth(),this.style.getClientHeight())+"px",this.expandContainerEl&&this.expandContainerEl.parentNode?(this.expandContainerEl.parentNode.removeChild(this.expandContainerEl),this.expandContainerEl=null):this.expandContainerEl.innerHTML=""},onResizeHandler:function(){var a=this.style.getClientWidth(),b=this.style.getClientHeight(),c=this.dom.g(this.pageIframeId);c.style.width=a+"px",c.style.height=b+"px",c.setAttribute("width",a),c.setAttribute("height",b)}}),a.define({name:"hiddenFloatAd",namespace:"dup.ui.painter",deps:{style:"dup.common.utility.style",dom:"dup.common.utility.dom"},TOP:2,BOTTOM:3,render:function(b){if(!this.validate(b))return!1;this.alreadyEnableHidden=!0,this.autoCloseTime=b.response.placement.container.closeTime||5,b.styleOpenApi.cpro_close_time&&(this.autoCloseTime=parseInt(b.styleOpenApi.cpro_close_time,10)||5),this.autoCloseTime=this.autoCloseTime>=3?this.autoCloseTime:3;var c=parseInt(b.styleOpenApi.cpro_show_dist,10)||5;c=c>=5?c:5,this.percentage=(1/c).toFixed(2);var d=b.response.placement,e=d.container;this.dockTo=parseInt(e.location,10)||this.BOTTOM,this.adWrapEl=document.getElementById(b.containerId),this.adWrapEl.style.display="block",this.adIframe=this.dom.g(b.containerId+"_frame");var f=this.dom.g(b.containerId+"_closebtn"),g=parseInt(this.adWrapEl.style.height||b.height,10),h=parseInt(f.style.height,10);this.hiddenHeight=-1*(g+h),this.haveSetIframeUrl=!0,this.countDownTimerId=!1,this.close4ever=!1,this.shrinkAd(),this.transitionDecorator(this.adWrapEl),this.lastScrollTop=this.style.getScrollTop(),this.dom.bind(f,"click",a.proxy(this,this.closeBtnOnClickHandler)),this.dom.bind(window,"scroll",a.proxy(this,this.onScrollHandler))},validate:function(a){var b=!!a.styleOpenApi.cpro_enable_hidden_float,c=a.response.placement.container,d=c.anchoredType,e=c.floated.trigger;return!!(b||"11"==d&&e)&&(!this.alreadyEnableHidden&&(this.alreadyEnableHidden=!0,!0))},shrinkAd:function(){this.dockTo===this.TOP?this.adWrapEl.style.top=this.hiddenHeight+"px":this.dockTo===this.BOTTOM&&(this.adWrapEl.style.bottom=this.hiddenHeight+"px")},expandAd:function(){this.dockTo===this.TOP?this.adWrapEl.style.top=0:this.adWrapEl.style.bottom=0,this.adIframe&&!this.haveSetIframeUrl&&(this.adIframe.src=this.adIframe.getAttribute("_src"),this.haveSetIframeUrl=!0)},transitionDecorator:function(a){var b="-webkit-transition: all .3s linear;-moz-transition: all .3s linear;-ms-transition: all .3s linear;-o-transition: all .3s linear;transition: all .3s linear;";a.style.cssText=a.style.cssText+b},startCountDown:function(a,b){var c=a,d=setInterval(function(){c--,0>=c&&(clearInterval(d),b&&b())},1e3);this.countDownTimerId=d},closeBtnOnClickHandler:function(){this.shrinkAd(),this.close4ever=!0},onScrollHandler:function(){var b=Math.max(document.documentElement.clientHeight,window.innerHeight||0)*this.percentage,c=this.style.getScrollTop(),d=c>this.lastScrollTop?"down":"top";this.totalScrollLength+=c-this.lastScrollTop,this.lastScrollTop=c,"top"===d&&!this.close4ever&&Math.abs(this.totalScrollLength)>=b&&!this.countDownTimerId?(this.expandAd(),this.startCountDown(this.autoCloseTime,a.proxy(this,this.onTimeCountDownHandler))):"down"===d&&(this.totalScrollLength=0)},onTimeCountDownHandler:function(){this.shrinkAd(),this.countDownTimerId=!1,this.totalScrollLength=0}}),a.define({name:"slotParam",namespace:"dup.business.parameter",deps:{dom:"dup.common.utility.dom",style:"dup.common.utility.style"},$slotParam:function(){this.win=window},paramsList:[{key:"di",value:function(){return this.slotInfo.slotId}},{key:"dri",value:function(){return this.slotInfo.index}},{key:"dis",value:function(){var a=0;this.dom.isInIframe(this.win)&&(a+=1),this.dom.isInCrossDomainIframe(this.win,this.win.top)&&(a+=2);var b=this.style.getClientWidth(),c=this.style.getClientHeight();return(40>b||10>c)&&(a+=4),a}},{key:"dai",value:function(){return this.slotInfo.count}},{key:"ps",value:function(){var a=this.dom.g(this.slotInfo.containerId),b=this.style.getPosition(a);return b.top+"x"+b.left}},{key:"coa",encode:!0,value:function(){var a=[],b=this.slotInfo.styleOpenApi;"-1"===this.slotInfo.pcwd&&(b.cpro_ftpc="true");for(var c in b)if(c&&"undefined"!=typeof b[c]&&b.hasOwnProperty(c)){var d=c;"cpro_w"===c&&(d="rsi0"),"cpro_h"===c&&(d="rsi1"),a.push(d+"="+encodeURIComponent(b[c]))}return a.join("&")}},{key:"cw",value:function(){var a=this.slotInfo.styleOpenApi.cpro_ftpc||"true"===this.slotInfo.styleOpenApi.cpro_ftpc||"-1"===this.slotInfo.pcwd,b=this.dom.g(this.slotInfo.containerId);return a&&b&&b.parentElement.clientWidth?b.parentElement.clientWidth||0:void 0}}],setSlotInfo:function(a){this.slotInfo=a}}),a.define({name:"preview",namespace:"dup.business",deps:{config:"dup.common.config",url:"dup.common.utility.url",data:"dup.common.utility.data"},CLB_PREFIX:"baidu_clb_preview_",DUP_PREFIX:"baidu_dup_preview_",getValue:function(a){var b,c=this.url.getTopWindowUrl();return b=this.url.getQueryValue(c,this.CLB_PREFIX+a),b||(b=this.url.getQueryValue(c,this.DUP_PREFIX+a)),b},getInfo:function(){var a,b=this.getValue("sid"),c=this.getValue("mid"),d=this.getValue("vc"),e=+this.getValue("ts"),f=+new Date;return 3e4>=f-e&&(a={sid:b,mid:c,vc:d}),this.getInfo=function(){return a},a},isUnionPreview:function(a){var b=!1;return a?/cpro_template=/gi.test(a)&&(this.data.putInfo("#unionPreviewSwitch",!0),b=!0):b=!!this.data.getInfo("#unionPreviewSwitch"),b},setUnionPreviewData:function(a){this.data.putInfo("#unionPreviewData",a)},getUnionPreviewData:function(){var a=this.data.getInfo("#unionPreviewData");return a?"prev="+encodeURIComponent(a)+"&pt=union":""},clearUnionPreviewData:function(){this.data.removeInfo("#unionPreviewSwitch"),this.data.removeInfo("#unionPreviewData")},getSearchParams:function(a){var b={},c=this.getInfo();return c&&a==c.sid&&(b.mid=c.mid,b.sid=c.vc,this.config.IS_PREVIEW=!0),b}}),a.define({name:"log",namespace:"dup.common.utility",deps:{config:"dup.common.config",lang:"dup.common.utility.lang",event:"dup.common.utility.event",storage:"dup.common.utility.storage"},storageKey:"BAIDU_DUP_log_storage",loadImage:function(a,b){var c=new Image,d="BAIDU_DUP_log_"+Math.floor(2147483648*Math.random()).toString(36);window[d]=c,c.onload=c.onerror=c.onabort=function(){c.onload=c.onerror=c.onabort=null,window[d]=null,c=null,b&&b(this.storageKey,a,!0)},c.src=a},resendLog:function(){var a=this.storage.getItem(this.storageKey);if(a){a=a.split("|");for(var b=0,c=a.length;c>b;b++)this.loadImage(decodeURIComponent(a[b]),this.storage.spliceItem)}},monitorLog:function(a){var b,c=a.id?a.id:"",d=a.async?a.async:"",e=a.type?a.type:"ssplog",f=a.pos?a.pos:"",g=a.status?a.status:"",h=a.mes?encodeURIComponent(a.mes):"",i=a.exps?a.exps:"";b=this.config.LOG_URL+["?type="+e,"id="+c,"pos="+f,"status="+g,"async="+d,"mes="+h,"exps="+i,"from=ssp","tm="+ +new Date].join("&"),this.sendLogRequest(b)},sendLogRequest:function(a){var b=new Image,c=+new Date,d="baidu_dan_log_"+c;window[d]=b,b.onload=b.onerror=b.onabort=function(){try{delete window[d]}catch(a){window[d]=void 0}b=null},a+=a.indexOf("?")>-1?"&":"?",a+=".stamp="+Math.random(),b.src=a},sendLog:function(a){a="object"===this.lang.getType(a)?a:{};var b=a.url||this.config.LOG_URL,c=a.data||{},d=a.option||"now",e=this.lang.serialize(c);switch(b+=(b.indexOf("?")>=0?"&":"?")+e+(e?"&":"")+"rdm="+ +new Date,d){case"now":this.loadImage(b);break;case"block":break;case"unload":default:this.storage.addItem(this.storageKey,b,!0),this.event.bind(window,"unload",function(){this.loadImage(b,this.storage.spliceItem)})}}}),a.define({name:"painterSelector",namespace:"dup.business",deps:{asserter:"dup.ui.assertion.asserter"},getPainter:function(b){var c=this.asserter.assert(b);if(c)return"dup.ui.painter."+c;for(var d=b.response,e=["dan.static","dan.couplet","dan.expand","dan.barrier","dan.video","topSearchBar","bottomSearchBar","slide","inlayFix","baiduRec","dynamicFloat","float","insideText","mobile.inlayFix","mobile.float"],f=0,g=e.length;g>f;f++){var h=a.using("dup.ui.assertion."+e[f]);if(h&&h.assert(d))return"dup.ui.painter."+e[f]}return c||(b.errors=b.errors||[],b.errors.push("painterName is empty")),"dup.ui.painter.inlayFix"}}),a.define({name:"businessParam",namespace:"dup.business.parameter",deps:{config:"dup.common.config",preview:"dup.business.preview",dom:"dup.common.utility.dom",origentation:"dup.business.origentation"},paramsList:[{key:"dcb",value:function(){return this.config.LOADER_DEFINE_NAME}},{key:"dtm",value:function(){return this.config.SSP_JSONP}},{key:"dvi",value:function(){return"0.0"}},{key:"dci",value:function(){return"-1"}},{key:"dds",value:function(){return""}},{key:"dpt",value:function(){var a="none";return this.preview.isUnionPreview()&&(a="union"),a}},{key:"tsr",value:function(){var a=0,b=+new Date;return this.config.startTime&&(a=b-this.config.startTime),a}},{key:"tpr",value:function(){function a(a){try{return!!a.top.location.toString()}catch(a){return!1}}var b,c,d=24e4,e=(new Date).getTime();return c=a(window)?window.top:window,b=c.BAIDU_DUP2_pageFirstRequestTime,b?e-b>=d&&(b=c.BAIDU_DUP2_pageFirstRequestTime=e):b=c.BAIDU_DUP2_pageFirstRequestTime=e,b||""}},{key:"cop",encode:!0,value:function(){return this.origentation.getOrientationQuery()}},{key:"ti",encode:!0,value:function(){return this.dom.getDocumentTitle()}},{key:"ari",value:function(){return 2}}]}),a.define({name:"param",namespace:"dup.business",deps:{config:"dup.common.config",slotParams:"dup.business.parameter.slotParam",businessParams:"dup.business.parameter.businessParam",browserParams:"dup.business.parameter.browserParam",browser:"dup.common.utility.browser",systemParams:"dup.business.parameter.systemParam",additionalParam:"dup.business.parameter.additionalParam",style:"dup.common.utility.style",dom:"dup.common.utility.dom",preview:"dup.business.preview",requestCache:"dup.business.requestCache"},snap:function(a){for(var b=[],c=a.paramsList,d=0,e=c.length;e>d;d++){var f=c[d],g=f.key,h=f.encode,i=f.value,j=f.limit;try{i="function"==typeof i?i.apply(a):i,i=h?encodeURIComponent(i):i,i=j?i.substr(0,j):i,b.push({key:g,value:i})}catch(a){var k=this.config.LOG_URL;k+="?type=adcodex_error",k+="&info="+encodeURIComponent(a.message),k+="&stack="+encodeURIComponent(a.stack||""),k+="&key="+encodeURIComponent(g),k+="&t="+(new Date).getTime(),(new Image).src=k}}return b},processExtendsParam:function(a){var b=a.response,c=b.placement.container,d=b.pdb_deliv,e=b.rtb_deliv,f=b.order_deliv;0===parseInt(d.deliv_id,10)&&(d.deliv_id=0),0===parseInt(d.demand_id,10)&&(d.demand_id=0),0===parseInt(e.deliv_id,10)&&(e.deliv_id=0),0===parseInt(e.demand_id,10)&&(e.demand_id=0),0===parseInt(f.deliv_id,10)&&(f.deliv_id=0),0===parseInt(f.demand_id,10)&&(f.demand_id=0);var g=b.extends||{};if(g&&g.hasOwnProperty("sspw")&&g.hasOwnProperty("ssph")){var h=parseInt(g.sspw||0,10),i=parseInt(g.ssph||0,10),j=parseInt(g.cbsz||0,10);if(h&&i&&(c.width=h,c.height=i),j>0&&(c.sizeType=j),1===j)a.width=h,a.height=i;else if(2===j){var k=this.translateScaleToPixelSize(h,i);a.width=k.width,a.height=k.height}}var l=a.width||c.width,m=a.height||c.height,n=b.placement.complement_type;if(0===n){var o=this.dom.g(a.containerId);o.style.width=l+"px",o.style.height=m+"px",o.style.display="inline-block"}},translateScaleToPixelSize:function(a,b,c){var d=c||{};return a=Math.abs(a),b=Math.abs(b),d.width||(d.width=Math.max(320,Math.min(window.innerWidth,window.innerHeight)),isNaN(d.width)&&(d.width=Math.min(this.style.getClientWidth(),this.style.getClientHeight()))),d.height||(d.height=Math.ceil(d.width/a*b)),{width:d.width,height:d.height}},getParamObj:function(a){var b=[];this.slotParams.setSlotInfo(a),this.browserParams.setSlotInfo(a),b=b.concat(this.snap(this.slotParams)),b=b.concat(this.snap(this.businessParams)),b=b.concat(this.snap(this.browserParams)),b=b.concat(this.snap(this.additionalParam)),b=b.concat(this.snap(this.systemParams));for(var c={},d=0,e=b.length;e>d;d++){var f=b[d];c[f.key]=f.value}a.width>0&&a.height>0&&(c.sz=a.width+"x"+a.height);var g=this.preview.getSearchParams(a.slotId);return c.mid=g.mid,c.sid=g.sid,c},getParamString:function(a){var b=[];for(var c in a)if(c&&(a[c]||0===a[c])&&a.hasOwnProperty(c)){var d=a[c];b.push(c+"="+d)}return b.join("&")},getPmpRequestUrl:function(a){var b,c={},d=[],e=a.paramObj;for(var f in e)f&&e.hasOwnProperty(f)&&(c[f]=e[f]);var g=a.timestampWatcher,h=g.t1,i=g.t2,j=g.t3,k=a.response;if(k){k.basic,c.qn=k.queryid,a.paramObj.qn=k.queryid;var l=a.width,m=a.height;l>0&&m>0&&(c.sz&&(c.sz=""),d.push("sz="+l+"x"+m)),a.pcwd&&d.push("conwid="+l),a.pchd&&d.push("conhei="+m);var n=k.pdb_deliv;n.deliv_id&&d.push("pdbid="+n.deliv_id),k.media_protect&&d.push("mpdi="+k.media_protect);var o=k.order_deliv;o.deliv_id&&d.push("orderid="+o.deliv_id),o.demand_id&&d.push("odid="+o.demand_id);var p=k.rtb_deliv;p.deliv_id&&d.push("rtbid="+p.deliv_id),p.demand_id&&d.push("rdid="+p.demand_id);var q=k.placement.complement_type;if(a.isNeedCacheRequest||4===q||7===q){var r=c.qn;c.dpv=r,a.paramObj.dpv=r,this.requestCache.add(r,a)}this.config.EXP_SATUS&&0===a.id.indexOf("u")?d.push("dc=3"):d.push("dc=2"),g&&h>0&&(c.tt=h+"."+(i-h)+"."+(j-h)+"."+(+new Date-h)),c.exps&&(d.push("exps="+c.exps),c.exps="")}var s=d.join("&");return b=a.posUrl&&(this.browser.uc||this.browser.tencent)?a.posUrl+s+"&"+this.getParamString(c):this.config.POS_URL+s+"&"+this.getParamString(c)}}),a.define({name:"slot",namespace:"dup.business",deps:{config:"dup.common.config",param:"dup.business.param",dom:"dup.common.utility.dom",log:"dup.common.utility.log",lang:"dup.common.utility.lang",browser:"dup.common.utility.browser",storage:"dup.common.utility.storage",origentation:"dup.business.origentation"},slotIdCountMap:{},slotCount:0,storageTime:{},$slot:function(){this.slotsMap=this.slotsMap||{}},getSlotInfo:function(a){return this.slotsMap[a]},getSlotInfoByRawId:function(a){for(var b in this.slotsMap)if(this.slotsMap.hasOwnProperty(b)&&b.indexOf(a)>-1)return this.slotsMap[b];return{}},createSlot:function(a){var c=""+a.slotId;this.slotIdCountMap[c]=this.slotIdCountMap[c]||0;var d={};return d.index=this.slotIdCountMap[c]++,d.count=++this.slotCount,d.id=c+"_"+d.index,d.containerId=this.config.DUP_PREFIX+"_wrapper_"+c+"_"+d.index,d.slotId=a.slotId,d.productLine=a.productLine,d.errors=[],d.isAsync=a.isAsync,this.setStatus(d.id,this.config.STATUS_CREATE),b?d.timestampWatcher={t1:b}:d.timestampWatcher={
t1:0},window.cproStyleApi?d.styleOpenApi=window.cproStyleApi[c]||{}:d.styleOpenApi={},0===c.indexOf("u")&&(d.productLine="union",d.width=d.styleOpenApi.cpro_w||d.styleOpenApi.rsi0||0,d.height=d.styleOpenApi.cpro_h||d.styleOpenApi.rsi1||0),d},cloneSlot:function(a){var b;return b=window.JSON&&window.JSON.parse?JSON.parse(JSON.stringify(a)):this.lang.clone(a),b.index=this.slotIdCountMap[b.slotId]++,b.id=b.slotId+"_"+b.index,b},processSlot:function(a){var b=!1,c=!1;if(a.response){var d=a.response.rtb_deliv,e=a.response.order_deliv,f=parseInt(d.deliv_id,10),g=parseInt(d.demand_id,10),h=parseInt(e.deliv_id,10),i=parseInt(e.demand_id,10);b=!(f||g||h||i),(b||0!==h)&&(c=0!==f||0!==h)}a.isPdbAd=b,a.isNeedCacheRequest=c},addSlot:function(a){this.slotsMap[a.id]=a},clearStatus:function(a,b){a.status=a.status^b},checkStatus:function(a,b){return(a.status&b)>0},setStatus:function(a,b){var c=this.getSlotInfo(a);c&&(c.status|=b),(b&this.config.STATUS_CREATE)>0&&(this.storageTime[a]=+new Date),(b&this.config.STATUS_FINISH)>0&&this.adSlotFinish(a)},addErrorInfo:function(a,b){a.errors=a.errors||[],a.errors.push(b)},adSlotFinish:function(a){var b={},c=!1,d=this.getSlotInfo(a);if(d.response){var e=d.response?d.response.pdb_deliv:{};for(var f in this.origentation.watchingSlotsMap)if(f&&this.origentation.watchingSlotsMap.hasOwnProperty(f)&&this.origentation.watchingSlotsMap[f]&&0===(""+a).indexOf(""+f)&&d.response){var g=e.deliv_des,h=g.width||0,i=g.height||0;0===h||0===i?b[a]=!1:b[a]=!0,c=!0}c&&this.origentation.slotFinishedCallback(b)}},process:function(){var a=this.slotsMap;for(var b in a)if(b&&a[b]&&a.hasOwnProperty(b)){var c=a[b];if(c.status>=this.config.STATUS_REQUEST)continue;this.createContainer(c),this.requestSlotInfo(c)}},requestSlotInfo:function(b){!this.config.FIRST_ONCESEACH&&this.config.EXP_SATUS&&(this.config.FIRST_ONCESEACH=!0,this.dom.bind(window,"message",a.proxy(this,this.onMessageHandler)));var c=!1;b.paramObj=this.param.getParamObj(b),b.paramObj.exps=this.config.EXP_ID,b.paramObj.pcn=this.config.IS_CNAME?this.config.REQUEST_URL_CNAME:"";var d,e;b.posUrl&&(this.browser.uc||this.browser.tencent)?(b.paramObj.ctxant="1",b.paramObj.pcn=b.pcn,d=this.param.getParamString(b.paramObj),e=b.posUrl+d):(d=this.param.getParamString(b.paramObj),e=this.config.POS_URL+d),b.paramObj.dtm=this.config.HTML_POST,b.timestampWatcher.t2=+new Date;var f=!1;"union"===b.productLine&&(f=!0),b.isAsync===!0&&(f=!0),c=this.config.EXP_SATUS?this.reqLocalInfo(b):this.localAdInfo(b),c?(this.setStatus(b.id,this.config.STATUS_REQUEST),window[this.config.LOADER_DEFINE_NAME](c)):(this.sendJsonpRequest(e,f),this.setStatus(b.id,this.config.STATUS_REQUEST))},onMessageHandler:function(a){var b=(a.origin||a.originalEvent.origin,a.data);b&&b.placement&&b.placement.update&&b.queryid&&b.tuid&&this.updateInfo(b)},updateInfo:function(a){var b={},c=a.placement.update;this.storageSlotInfo=this.storage.getItem(a.tuid),this.storageSlotInfo&&(b=this.lang.jsonToObj(this.storageSlotInfo),this.storage.isAvailable&&window.JSON&&window.JSON.stringify&&b&&b.placement&&b.placement.update&&b.placement.update!==c&&(a.adExpire=(new Date).getTime(),this.storage.setItem(a.tuid,JSON.stringify(a))))},reqLocalInfo:function(a){try{if(this.browser.ie&&this.browser.ie<9)return!1;var b={};return!!this.storage.isAvailable&&(this.storageSlotInfo=this.storage.getItem(a.id),!!this.storageSlotInfo&&(b=this.lang.jsonToObj(this.storageSlotInfo)))}catch(b){var c=encodeURIComponent(b),d={type:"elog",pos:"localAdInfo",id:a.id,mes:c,exps:this.config.EXP_ID};this.log.monitorLog(d)}},localAdInfo:function(a){try{if(this.browser.ie&&this.browser.ie<9)return!1;var b={};if(!this.storage.isAvailable)return!1;if(this.storageSlotInfo=this.storage.getItem(a.id),!this.storageSlotInfo)return!1;if(b=this.lang.jsonToObj(this.storageSlotInfo),!b||!b.adExpire)return!1;var c=(new Date).getTime(),d=c-b.adExpire;return d>this.config.STORAGE_TIMER?(this.storage.removeItem(a.id),!1):b}catch(a){}},adInfoStorage:function(a){try{var b=a.response||{},c=!1;b&&b.pdb_deliv&&b.pdb_deliv.deliv_des&&b.pdb_deliv.deliv_des._html&&(c=!0);var d=!1;b&&b.tuid&&(d=0===b.tuid.indexOf("u"));var e=a.id;!c&&d&&this.storage.isAvailable&&window.JSON&&window.JSON.stringify&&e&&!this.storageSlotInfo&&(b.adExpire=(new Date).getTime(),this.storage.setItem(e,JSON.stringify(b)))}catch(a){}},createContainer:function(a){if(!(a.status>this.config.STATUS_CREATE)){var b=this.dom.g(a.containerId);if(b)return void this.setStatus(a.id,this.config.STATUS_CREATE);a.isAsync?"union"===a.productLine&&(a.containerId="cpro_"+a.slotId):(document.write('<div id="'+a.containerId+'"></div>'),this.dom.g(a.containerId)||this.createBackupWrapper(a)),this.setStatus(a.id,this.config.STATUS_CREATE)}},createBackupWrapper:function(a){try{var b=document.getElementsByTagName("script"),c=b[b.length-1];if(c){var d=c.parentNode;if(d){var e=document.createElement("div");return e.id=a.containerId,d.insertBefore(e,c),!0}}}catch(a){}return!1},sendJsonpRequest:function(a,b){if(b){var c=document.createElement("script");c.type="text/javascript",c.async=!0,c.src=a;var d=document.getElementsByTagName("script")[0];if(d&&d.parentNode)return void d.parentNode.insertBefore(c,d);document.write('<script charset="utf-8" src="'+a+'"></script>')}else document.write('<script charset="utf-8" src="'+a+'"></script>')},adInfoIsAvailable:function(a){var b=a.response;if(!b)return!0;var c=b.pdb_deliv,d=b.rtb_deliv,e=b.order_deliv,f=b.pdb_deliv.deliv_des,g=(f._html,b.placement.complement_type);return!(!this.config.IS_PREVIEW&&0===c.deliv_id&&0===d.deliv_id&&0===e.deliv_id&&7==g)}}),a.define({name:"detect",namespace:"dup.business",deps:{config:"dup.common.config",log:"dup.common.utility.log",slot:"dup.business.slot"},$detect:function(){},sendLog:function(a){a.url="",a.host=window.location.hostname,a.from="SSP",this.config.EXP_ID&&(a.exp=this.config.EXP_ID),this.log.sendLog({data:a,option:"now"})},checkFail:function(){var a=this.slot.slotsMap;for(var b in a)if(b&&a.hasOwnProperty(b)&&a[b]){var c=a[b],d=c.slotId,e="";c.response&&(e=c.response.queryid);var f=c.status,g=c.errors||[],h=decodeURIComponent(g.join(","));h&&this.sendLog({type:"hlog",exp:this.config.EXP_ID||"",status:f,pos:"checkFail",id:d,sid:e,index:c.index,errorInfo:h})}}}),a.define({name:"viewWatch",namespace:"dup.business",deps:{dom:"dup.common.utility.dom",lang:"dup.common.utility.lang",style:"dup.common.utility.style",browser:"dup.common.utility.browser",log:"dup.common.utility.log",slot:"dup.business.slot"},analysisUrl:"//eclick.baidu.com/a.js",maxTime:72e5,STATUS:{WAIT:0,LOAD:1,RUN:2,UNLOAD:3},clientParam:{},focusSwitch:!0,watchingList:null,intervalId:null,intervalTimeSpan:500,isEventInited:!1,$viewWatch:function(){this.winFocused=!0,this.win=window,this.pageStayTime=null==this.pageStayTime?0:this.pageStayTime,this.intervalStatus=this.STATUS.WAIT},viewWatch:function(){},regisetViewWatch:function(a){this.isEventInited||(this.initializeEvent(),this.isEventInited=!0),this.watchingList=this.watchingList||[];var b=this.dom.g(a.containerId);if(b){var c=a.paramObj,d=a.width,e=a.height,f="";if(a.response){var g=a.response.placement,h=g.container;d=h.width,e=h.height,f=a.response.queryid}var i=new Date,j={slotId:a.slotId,domId:a.containerId,jk:f,word:c.ltu,iframeStatus:c.dis,aw:d,ah:e,viewContext:{pageStayTime:0,pageStayTimeStamp:i,inViewTime:0,inViewTimeStamp:i,currViewStatus:!1,focusTime:0,adViewTime:0,currAdViewStatus:!1,adViewTimeStamp:i}};this.calculateClientParam(j,b),this.watchingList.push(j)}},unregisetViewWatch:function(a){if(this.watchingList)for(var b=a.containerId,c=0;c<this.watchingList.length;c++){var d=this.watchingList[c];if(d.domId==b)return void this.watchingList.splice(c,1)}},buildAnalysisUrl:function(a,b){if(a&&b){var c=a+"?",d=b.viewContext;d.inViewTime>this.maxTime&&(d.inViewTime=this.maxTime),d.adViewTime>this.maxTime&&(d.adViewTime=this.maxTime),d.pageStayTime>=this.maxTime&&(d.pageStayTime=this.maxTime);var e=[];return e.push("tu="+b.slotId),e.push("jk="+b.jk),e.push("word="+b.word),e.push("if="+b.iframeStatus),e.push("aw="+b.aw),e.push("ah="+b.ah),e.push("pt="+d.pageStayTime),e.push("it="+d.inViewTime),e.push("vt="+d.adViewTime),e.push("csp="+b.desktopResolution),e.push("bcl="+b.browserRegion),e.push("pof="+b.pageRegion),e.push("top="+b.top),e.push("left="+b.left),c+e.join("&")}},initializeEvent:function(){this.windowOnLoadHandler(),this.dom.ready(a.proxy(this,this.windowOnLoadDelay),2e3),this.dom.bind(this.win,"beforeunload",a.proxy(this,this.windowOnUnloadHandler))},calculateClientParam:function(a,b){var c=this.style.getPosition(b);a.left=c.left||0,a.top=c.top||0;var d=window.screen.availWidth,e=window.screen.availHeight;d>1e4&&(d=0),e>1e4&&(e=0),a.desktopResolution=d+","+e,a.browserRegion=this.style.getClientWidth(window)+","+this.style.getClientHeight(window),a.pageRegion=this.style.getScrollWidth(window)+","+this.style.getScrollHeight(window)},updateViewStatus:function(a,b,c){var d,e,f,g=new Date;return d=e=f=this.intervalTimeSpan,this.intervalStatus===this.STATUS.LOAD&&(this.intervalStatus=this.STATUS.RUN,d=e=0,f=e=0),a.currViewStatus?(this.intervalStatus===this.STATUS.LOAD&&(d=parseInt(g.getTime()-a.inViewTimeStamp.getTime(),10),0>d?d=0:d>this.intervalTimeSpan&&(d=this.intervalTimeSpan)),a.inViewTime+=d,a.inViewTimeStamp=g):b&&(a.inViewTimeStamp=g),a.currViewStatus=b,a.currAdViewStatus?(this.intervalStatus===this.STATUS.UNLOAD&&(f=parseInt(g.getTime()-a.adViewTimeStamp.getTime(),10),0>f?f=0:f>this.intervalTimeSpan&&(f=this.intervalTimeSpan)),a.adViewTime+=f,a.adViewTimeStamp=g):c&&(a.adViewTimeStamp=g),a.currAdViewStatus=c,a.pageStayTime=a.pageStayTime||0,this.pageStayTime=this.pageStayTime||0,this.intervalStatus===this.STATUS.UNLOAD&&(this.pageTimeSpan=parseInt(g.getTime()-a.pageStayTimeStamp.getTime(),10),0>e?e=0:e>this.intervalTimeSpan&&(e=this.intervalTimeSpan)),a.pageStayTime+=e,this.pageStayTime+=e,this.winFocused&&(a.focusTime+=e),a.pageStayTimeStamp=g,a},computeViewStatus:function(a){var b=a.domId,c=this.dom.g(b);if(!c)return{isInView:!1,isAdView:!1};var d=!1,e=!1;if(this.winFocused)try{var f=this.style.getClientWidth(this.win),g=this.style.getClientHeight(this.win),h=this.getPosition(c),i=this.style.getOuterWidth(c),j=this.style.getOuterHeight(c);d=h.top>=0&&h.bottom<=g&&h.left>=0&&h.left<=f;var k=h.top>0?h.top:0,l=h.bottom>g?g:h.bottom,m=h.left>0?h.left:0,n=h.right>f?f:h.right,o=i*j;if(l>k&&n>m){var p=(l-k)*(n-m);e=p>.5*o}}catch(a){}return{isInView:d,isAdView:e}},getPosition:function(a){var b=this.style.getPositionCore(a),c=this.style.getScrollLeft(window),d=this.style.getScrollTop(window),e=this.style.getOuterWidth(a,!1),f=this.style.getOuterHeight(a,!1);return{top:b.top-d,bottom:b.top-d+f,left:b.left-c,right:b.left-c+e,topAbs:b.top,bottomAbs:b.top+f,leftAbs:b.left,rightAbs:b.left+e}},viewableCompute:function(){if(this.watchingList){var a,b;for(a=0,b=this.watchingList.length;b>a;a++){var c=this.watchingList[a],d=this.computeViewStatus(c);c.viewContext=this.updateViewStatus(c.viewContext,d.isInView,d.isAdView),c.analysisUrl=this.buildAnalysisUrl(this.analysisUrl,c)}}},viewOnChange:function(){this.viewableCompute(),this.pageStayTime>=this.maxTime&&this.windowOnUnloadHandler(!1)},windowOnLoadHandler:function(b){this.intervalStatus=this.STATUS.LOAD,this.registerFocusEvent(this.win),(!this.browser.ie||this.browser.ie&&this.browser.ie>6)&&this.viewOnChange(),this.intervalId=setInterval(a.proxy(this,this.viewOnChange),this.intervalTimeSpan)},windowOnLoadDelay:function(a){var b,c,d,e,f;for(b=0,c=this.watchingList.length;c>b;b++)d=this.watchingList[b],d&&(f=d.domId,f&&(e=this.win.document.getElementById(f)),e&&(d.clientParam=d.clientParam||{},this.calculateClientParam(d,e)))},windowOnUnloadHandler:function(a){try{if(clearInterval(this.intervalId),this.intervalStatus!==this.STATUS.RUN)return void(this.intervalStatus=this.STATUS.UNLOAD);this.intervalStatus=this.STATUS.UNLOAD,this.viewableCompute();for(var b=0,c=this.watchingList.length;c>b;b++){var d=this.watchingList[b];d&&d.analysisUrl&&!d.isSended&&(d.isSended=!0,0===b&&(d.analysisUrl+="&total="+this.watchingList.length),this.log.sendLog({url:d.analysisUrl}))}if(a){var e,f=200,g=(new Date).getTime();if(this.browser.ie)for(e=g+f;e>g;)g=(new Date).getTime();else{for(var c=1e5,b=0;c>b;b++);e=(new Date).getTime(),c=1e5*f/(e-g),c=c>1e7?1e7:c;for(var b=0;c>b;b++);}}}catch(a){}},registerFocusEvent:function(b){var b=b||this.win;this.winFocused=!0,this.browser.ie?(this.dom.bind(b,"focusin",a.proxy(this,this.allDomOnFocusHandler)),this.dom.bind(b,"focusout",a.proxy(this,this.allDomOnBlurHandler))):(this.dom.bind(b,"focus",a.proxy(this,this.allDomOnFocusHandler)),this.dom.bind(b,"blur",a.proxy(this,this.allDomOnBlurHandler)))},allDomOnFocusHandler:function(a){this.winFocused=!0},allDomOnBlurHandler:function(a){this.winFocused=!1}}),a.define({name:"unionDelivery",namespace:"dup.business.delivery",deps:{slot:"dup.business.slot"},launch:function(){var a,b=window.cpro_id;window.cpro_id=null,b&&(a=this.slot.createSlot({slotId:b,productLine:"union",isAsync:!1}),this.slot.addSlot(a));var c=window.cproArray;if(window.cproArray=null,c)for(var d=0,e=c.length;e>d;d++)a=this.slot.createSlot({slotId:c[d].id,productLine:"union",isAsync:!0}),this.slot.addSlot(a);var f=window.cpro_mobile_slot;if(window.cpro_mobile_slot=null,f)for(var d=0,e=f.length;e>d;d++){var g=f[d];a=this.slot.createSlot({slotId:g.id,productLine:"union",isAsync:!0}),a.styleOpenApi=a.styleOpenApi||{};for(var h in g)h&&g[h]&&g.hasOwnProperty(h)&&(a.styleOpenApi[h]=g[h]);this.slot.addSlot(a)}this.slot.process()}}),a.define({name:"dupDelivery",namespace:"dup.business.delivery",deps:{slot:"dup.business.slot",interface:"dup.business.interface"},launch:function(){this.delieveryObjArray=this.delieveryObjArray||[],window.BAIDU_DUP=window.BAIDU_DUP||[],window.BAIDU_DUP&&window.BAIDU_DUP instanceof Array&&(this.delieveryObjArray=this.delieveryObjArray.concat(window.BAIDU_DUP),window.BAIDU_DUP=[]),this.updateApi(),this.process()},updateApi:function(){window.BAIDU_DUP=this,window.BAIDU_DUP.load=!0,this.interface.register("fill",this,this.fill),this.interface.register("fillAsync",this,this.fillAsync)},process:function(){for(var a=0,b=this.delieveryObjArray.length;b>a;a++){var c=this.delieveryObjArray[a];if(c instanceof Array){var d=c.splice(0,1)[0],e=c;this.interface.perform(d,e)}}this.delieveryObjArray=[],this.slot.process()},push:function(a){this.delieveryObjArray=this.delieveryObjArray&&[],this.delieveryObjArray.push(a),this.process()},fill:function(a){var b=this.slot.createSlot({slotId:a,productLine:"dup",isAsync:!1});this.slot.addSlot(b),this.slot.process()},fillAsync:function(a,b){var c=this.slot.createSlot({slotId:a,productLine:"dup",isAsync:!0});c.containerId=b,this.slot.addSlot(c),this.slot.process()}}),a.define({name:"standardDelivery",namespace:"dup.business.delivery",deps:{config:"dup.common.config",slot:"dup.business.slot",interface:"dup.business.interface",param:"dup.business.param",url:"dup.common.utility.url",data:"dup.common.utility.data",additionalParam:"dup.business.parameter.additionalParam"},launch:function(){this.delieveryObjArray=this.delieveryObjArray||[],window.slotbydup=window.slotbydup||[],window.slotbydup&&window.slotbydup instanceof Array&&(this.delieveryObjArray=this.delieveryObjArray.concat(window.slotbydup),window.slotbydup=[]),this.updateApi(),this.process()},process:function(){for(var a,b=0,c=this.delieveryObjArray.length;c>b;b++){var d=this.delieveryObjArray[b];if(d.hasOwnProperty("id")){var e=!1;if(d.hasOwnProperty("isAsync")&&d.isAsync?e=d.isAsync:d.hasOwnProperty("async")&&d.async&&(e=d.async),a=this.slot.createSlot({slotId:d.id,productLine:"adcodex",isAsync:e}),d.hasOwnProperty("pos")){try{this.QueryURI=this.url.getQueryURI(2)}catch(a){this.QueryURI=["a","o"]}a.posUrl=this.config.HTTP_PROTOCOL+"//"+d.pos+"/s?",a.pcn=d.pos}if(this.additionalParam.paramCheck(a,d),a.containerId=d.container||a.containerId,a.display=d.display,a.rpdn=d.rpdn||"",a.ftpc=d.ftpc||!1,a.size=d.size||"",a.pcwd=d.pcwd||"",a.pchd=d.pchd||"",!a.styleOpenApi.cpro_w&&!a.styleOpenApi.cpro_h){var f,g=d.size;if(g&&g.indexOf(":")>-1){f=g.split(":");var h=this.param.translateScaleToPixelSize(f[0],f[1]);a.width=h.width,a.height=h.height}}this.slot.addSlot(a);var i="cpro_set_baiduRec_jsonpCb";d[i]&&d.hasOwnProperty(i)&&this.data.putInfo("baiduRecCallback",d.cpro_set_baiduRec_jsonpCb||"")}else this.interface.executeTask(d)}this.delieveryObjArray=[],this.slot.process()},updateApi:function(){window.slotbydup=this,window.slotbydup.load=!0},push:function(a){this.delieveryObjArray=this.delieveryObjArray&&[],this.delieveryObjArray.push(a),this.process()}}),a.define({name:"expand",namespace:"dup.ui.painter",deps:{config:"dup.common.config",dom:"dup.common.utility.dom",style:"dup.common.utility.style",event:"dup.common.utility.event",slot:"dup.business.slot"},validate:function(a){return!0},sendMessage:function(a,b){var c=this.slot.getSlotInfo(a),d=this.dom.g(c.containerId);if(d){var e=d.getElementsByTagName("iframe")[0];b=JSON.stringify(b),e.contentWindow.postMessage(b,"*")}},getComputedWidth:function(a){return window.getComputedStyle?window.getComputedStyle(a).width:a.currentStyle.width},init:function(){function a(a){var c=JSON.parse(a.data);if(!c.title||"baidudup"!=c.title)return!1;if("invokeMethod"==c.type)switch(c.method){case"expand":b.expandAd(c.parameters[0]);break;case"close":b.collapseAd(c.parameters[0])}}var b=this;(window.addEventListener||window.attachEvent)&&JSON&&JSON.parse&&this.event.bind(window,"message",a),this.event.bind(window,"scroll",function(){b.adjustPosWhenViewportChanged()}),this.event.bind(window,"resize",function(){b.adjustPosWhenViewportChanged()})},adjustPosWhenViewportChanged:function(){var a=this.scrollObserver;a.up,a.down,a.left,a.right;for(var b in a)for(var c in a[b]){var d=a[b][c];if(!d.isExpand)return;var e=d.origin,f=e.getElementsByTagName("iframe")[0],g=(d.targetWidth,d.targetHeight,d.originWidth);switch(d.originHeight,b){case"up":var h=parseInt(this.getComputedWidth(e),10);f.style.left=0;break;case"down":var h=parseInt(this.getComputedWidth(e),10);f.style.left=0;break;case"left":var h=parseInt(this.getComputedWidth(e));f.style.right=h-g+"px";break;case"right":var h=parseInt(this.getComputedWidth(e));f.style.left=0}}},$expand:function(){this.observerObjs=[],this.expandStatus={},this.timers={},this.hasInit=!1,this.maxExpandTime=5e3,this.canFixed=this.style.canFixed(),this.scrollObserver={up:{},down:{},left:{},right:{}}},registerScrollSubject:function(a,b,c,d,e,f,g){if(!this.scrollObserver[a][b]){var h=this.scrollObserver[a][b]={};h.isExpand=!0,h.origin=c,h.originWidth=d,h.originHeight=e,h.targetWidth=f,h.targetHeight=g}},expand2Up:function(a,b,c,d,e,f){this.registerScrollSubject("up",a,b,c,d,e,f);var g=b.getElementsByTagName("iframe")[0];parseInt(this.getComputedWidth(b)),g.style.bottom=0,g.style.left=0},expand2Down:function(a,b,c,d,e,f){this.registerScrollSubject("down",a,b,c,d,e,f);var g=b.getElementsByTagName("iframe")[0];parseInt(this.getComputedWidth(b)),g.style.top=0,g.style.left=0},expand2Left:function(a,b,c,d,e,f){this.registerScrollSubject("left",a,b,c,d,e,f);var g=b.getElementsByTagName("iframe")[0],h=parseInt(this.getComputedWidth(b));g.style.bottom=0,g.style.right=h-c+"px"},expand2Right:function(a,b,c,d,e,f){this.registerScrollSubject("right",a,b,c,d,e,f);var g=b.getElementsByTagName("iframe")[0];parseInt(this.getComputedWidth(b)),g.style.bottom=0,g.style.left=0},expandAd:function(a){if(!this.expandStatus[a]){this.expandStatus[a]=!0;var b=this.slot.getSlotInfoByRawId(a),c=b.response.placement.container,d=c.width,e=c.height,f=b.response.placement.container.slide,g=f.slideWidth,h=f.slideHeight,i=1e3*parseInt(f.extendTime,10),j=parseInt(f.slideMode,10),k=parseInt(f.direction,10),l=b.containerId,m=this.dom.g(l),n=m.getElementsByTagName("iframe")[0];if(1===k||2===k?(n.setAttribute("height",h),n.style.height=h+"px"):3!==k&&4!==k||(n.setAttribute("width",g),n.style.width=g+"px"),2==j&&2==k||2==j&&4==k)switch(k){case 2:n.setAttribute("height",h),n.style.height=h+"px";break;case 4:n.setAttribute("width",g),n.style.width=g+"px"}else switch(m.style.position="relative",n.style.position="absolute",m.style.height=e+"px",k){case 1:this.expand2Up(a,m,d,e,g,h);break;case 2:this.expand2Down(a,m,d,e,g,h);break;case 3:this.expand2Left(a,m,d,e,g,h);break;case 4:this.expand2Right(a,m,d,e,g,h)}var o=this;this.timers[a]=setTimeout(function(){o.expandStatus[a]&&o.collapseAd(a)},Math.min(i))}},collapseAd:function(a){if(this.expandStatus[a]){this.expandStatus[a]=!1,clearTimeout(this.timers[a]);var b=this.slot.getSlotInfoByRawId(a),c=b.response.placement.container,d=c.width,e=c.height,f=b.containerId,g=this.dom.g(f),h=g.getElementsByTagName("iframe")[0];g.style.position="",g.style.width="",g.style.height="",g.style.top="",g.style.left="",h.style.position="",h.style.display="",h.style.top="",h.style.left="",h.style.right="",h.style.width="",h.style.height="",h.setAttribute("height",e),h.setAttribute("width",d);for(var i in this.scrollObserver)for(var j in this.scrollObserver[i])j==a&&(this.scrollObserver[i][j].isExpand=!1)}},observer:function(a){var a=this.slot.getSlotInfoByRawId(a.slotId),b=a.response.placement.container.slide,c=a.containerId,d=this.dom.g(c);b.slideMode,b.direction,d.style.textAlign="left",this.hasInit||(this.hasInit=!0,this.init())},fire:function(a,b){var c,d=function(a){return"[object Array]"==Object.prototype.toString.call(a)},e=this.slot.getSlotInfoByRawId(b),f=e.response.placement.container.slide;f&&(c=f.trigger);var g=d(c)?c[0]:c?c:0,h=["","BEFORE_PAGELOAD","AFTER_PAGECLOSE","PAGE_PERCENT","mouseover","click","adloaded","SLIP"];h[g]===a&&this.sendMessage(b,{title:"baidudup",type:"eventHappen",parameters:[a]})}}),a.define({name:"frame",namespace:"dup.business",deps:{config:"dup.common.config",slot:"dup.business.slot",material:"dup.business.material",log:"dup.common.utility.log",requestCache:"dup.business.requestCache",param:"dup.business.param",lang:"dup.common.utility.lang",data:"dup.common.utility.data",viewWatch:"dup.business.viewWatch",creativePreview:"dup.business.creativePreview"},checkRichAdType:function(a){for(var b="",c=["dui-lian","popup","right-down","slide","top-down","barrier"],d=0;d<c.length;d++)if(a.indexOf(c[d])>-1){b=c[d];break}return b},cacheRequestCallback:function(b){var c=b.html||"success";if("success"!==c){var d=this.requestCache.get(b.dpv),e=d.response.pdb_deliv.deliv_des;e=e._html;var f=d.response,g=f.pdb_deliv,h=f.rtb_deliv,i=f.order_deliv;if(0===g.deliv_id&&(0!==parseInt(i.deliv_id,10)||0!==parseInt(h.deliv_id,10))&&"success"!==c&&7===f.placement.complement_type){var j=document.getElementById(d.containerId),k=document.getElementById(d.containerId+"_left"),l=document.getElementById(d.containerId+"_right");return j&&(this.viewWatch.unregisetViewWatch(d),j.parentNode.removeChild(j)),k&&k.parentNode.removeChild(k),void(l&&l.parentNode.removeChild(l))}if(d)if(e.type&&"rich"===e.type){var m=this.material.formatMaterial(e,d),n=document.getElementById(d.containerId),o="<!DOCTYPE html><body>";m.indexOf(o)>-1&&(m=m.slice(o.length));var p=this.checkRichAdType(m);if("popup"===p)n.style.display="none";else if("barrier"===p){n.style.display="none";var q=document.getElementById(d.containerId+"_placeholder");q&&(q.style.display="none")}var r=a.using("dup.ui.painter.richMaterial");r.render(d,!0)}else{var s=this.requestCache.secondResult[b.dpv];this.slot.clearStatus(d,this.config.STATUS_FINISH),d.isPdbAd=!0,d.isNeedCacheRequest=!1,s.outerHTML=this.getFrameHTML(d)}}},requireDomainPolicy:function(){function a(a){try{return!a.contentWindow.document}catch(a){return!0}}var b=document.createElement("iframe"),c=!1;return b.src="about:blank",document.body.insertBefore(b,document.body.firstChild),c=a(b),document.body.removeChild(b),this.requireDomainPolicy=function(){return c},c},requireBlankPolicy:function(){var a=navigator.userAgent,b=!(!a||!a.match(/iphone.*micromessenger/i));return this.requireBlankPolicy=function(){return b},b},renderFrame:function(a,b){var c=this.slot.getSlotInfo(a);if(c&&!this.slot.checkStatus(c,this.config.STATUS_FINISH)){var d=c.response.pdb_deliv.deliv_des;d=d._html;var e=this.getFrameUrl();if(this.requireDomainPolicy()&&b.getAttribute("src",2)!==e)return void(b.src=e);if(d&&"url"===d.type)return b.src=d.content,void this.slot.setStatus(c.id,this.config.STATUS_FINISH);try{this.slot.setStatus(c.id,this.config.STATUS_FINISH);var f=this.material.formatMaterial(d,c);f.indexOf("<body>")<0&&(f="<!DOCTYPE html><body>"+f);var g=b.contentWindow.document;g.open("text/html","replace"),g.write(f),g.body&&(g.body.style.backgroundColor="transparent")}catch(a){}}},getFrameUrl:function(){return this.requireDomainPolicy()?this.data.getConfig("domainPolicyFileUrl")||"/domain-policy.htm":this.requireBlankPolicy()?this.data.getConfig("blankPolicyFileUrl")||"/blank-policy.htm":"about:blank"},getFrameHTML:function(a,b){b=b||"iframe"+a.id,a.iframeId=b;var c=this.processFrameData(a);return this.renderFrameHTML(c)},processFrameData:function(b){var c,d,e="",f=[];if(b.response){var g=b.response.placement;d=g.container;try{f=g.fillstyle.elements||[]}catch(a){}}var h=b.width||d&&d.width,i=b.height||d&&d.height,j=this.creativePreview.getPreviewUrl(h,i,f,b.displayType||"inlay");if(j)c=j;else if(b.isPdbAd){var k=this.config.DUP_PREFIX+"renderFrame";this.data.defineOnce(k,a.proxy(this,this.renderFrame)),c=this.getFrameUrl(),e='onload="'+k+"('"+b.id+"', this);\""}else if(b.isNeedCacheRequest){var l=this.config.DUP_PREFIX+"cacheRequest",m="adsbybaidu_callback";this.data.defineOnce(m,a.proxy(this,this.cacheRequestCallback)),this.data.defineOnce(l,a.proxy(this.requestCache,this.requestCache.cacheRequest)),c=this.param.getPmpRequestUrl(b),e='onload="'+l+"('"+b.paramObj.dpv+"', this);\""}else c=this.param.getPmpRequestUrl(b);var n={};return n.iframeId=b.iframeId,n.srcAttriName="src",n.onloadDefine=e,n.iframeWidth=""+h,n.iframeHeight=""+i,n.url=c,n},renderFrameHTML:function(a){var b=["<iframe",' id="{iframeId}"'," {onloadDefine}",' {srcAttriName}="{url}"',' width="{iframeWidth}"',' height="{iframeHeight}"',' align="center,center"',' vspace="0"',' hspace="0"',' marginwidth="0"',' marginheight="0"',' scrolling="no"',' frameborder="0"',' style="border:0; vertical-align:bottom;margin:0;"',' allowtransparency="true">',"</iframe>"].join("");return this.lang.template(b,a)}}),a.define({name:"richMaterial",namespace:"dup.ui.painter",deps:{dom:"dup.common.utility.dom",config:"dup.common.config",slot:"dup.business.slot",param:"dup.business.param",frame:"dup.business.frame",log:"dup.common.utility.log",data:"dup.common.utility.data"},isNeededNode:function(a,b){return a.nodeName&&a.nodeName.toUpperCase()===b.toUpperCase()},evalScript:function(a,b){try{var c=document.createElement("script");c.type="text/javascript",a.src?c.src=a.src:c.text=a.text||a.textContent||a.innerHTML||"",b.insertBefore(c,b.firstChild)}catch(a){this.log.monitorLog({error:"createscripterror",status:"renderFail"})}},render:function(a,b){try{if(!a.response)return;var c=a.response,d=(c.rtb_deliv,c.order_deliv,c.pdb_deliv.deliv_des),e=d._html,f=a.isNeedCacheRequest;if(!b&&(!e||"rich"!==e.type||f))return!1;var g=e.content}catch(a){}if(!a.isAsync&&!f)return document.write(g),this.slot.setStatus(a.id,this.config.STATUS_FINISH),!0;var h=this.dom.g(a.containerId);if(h&&a.isAsync&&("clb"===a.productLine||"dup"===a.productLine)&&!f){var i=this.frame.getFrameHTML(a);return h.innerHTML=i,!0}if(!h)return!1;h.innerHTML='<span style="display: none">ie</span>'+g;for(var j=h.childNodes,k=[],l=0;j[l];l++)!this.isNeededNode(j[l],"script")||j[l].type&&"text/javascript"!==j[l].type.toLowerCase()||k.push(j[l]);k.reverse();for(var m=0,n=k.length;n>m;m++)this.evalScript(k[m].parentNode.removeChild(k[m]),h);return!0}}),a.define({name:"floatBlock",namespace:"dup.ui.painter",deps:{config:"dup.common.config",style:"dup.common.utility.style",log:"dup.common.utility.log",dom:"dup.common.utility.dom",lang:"dup.common.utility.lang",cookie:"dup.common.utility.cookie",unicode:"dup.common.utility.unicode",frame:"dup.business.frame",slot:"dup.business.slot",deliveryLimit:"dup.business.deliveryLimit"},GAP:5,NORMAL_CLOSE_BTN_HEIGHT:17,COUPLET_CLOSE_BTN_HEIGHT:20,validate:function(a){if("union"===a.productLine){var b=this.deliveryLimit.TYPE.POPUP;"couplet"!==a.blockType&&"button"!==a.blockType||(b=this.deliveryLimit.TYPE.COUPLET);var c=this.validateLimit(b);if(!c)return!1;this.deliveryLimit.setAdsCount(b,a.domId)}var d=this.getCloseCookieName(a);return 2!==a.closeType||!this.cookie.get(d)},validateLimit:function(a){var b=this.deliveryLimit.getAdCount(a),c=this.deliveryLimit.MAX_COUNT[a];return c>b||void 0},createBlockHtmlTemplate:function(a){var b=["{iframe}","{closeBtn}"].join("");if(!a.blockType||"default"===a.blockType)return b;var c=["box-sizing: content-box;","width:{width}px;","height:{height}px;","padding:4px;","border:#acacac 1px solid;","overflow:hidden;"];return"button"!==a.blockType&&"popup"!==a.blockType||c.push("position:absolute;left:0;top:"+(this.COUPLET_CLOSE_BTN_HEIGHT+this.GAP)+"px;"),b=['<div style="'+c.join("")+'">',"{iframe}","</div>","{closeBtn}"].join("")},createCloseElement:function(a){var b={},c="\\u5FAE\\u8F6F\\u96C5\\u9ED1",d="\\u5173\\u95ED",e=a.domId+"_closebtn",f=this;return b.couplet=function(){var b=["box-sizing: content-box;","position:absolute;","width:"+a.containerWidth+"px;","height:20px;","top:"+(a.containerHeight-this.COUPLET_CLOSE_BTN_HEIGHT)+"px;","left:0;","cursor:pointer;","background-color:#999999;","color:#fff;font-size:12px;","font-family: "+f.unicode.toDecode(c)+";","text-align:center;line-height:20px;"].join(""),g='<div id="'+e+'" style="'+b+'">'+f.unicode.toDecode(d)+"</div>";return g},b.button=b.popup=function(){var b=61,c=a.containerWidth-b,d="\\u5FAE\\u8F6F\\u96C5\\u9ED1",g="\\u5173\\u95ED",h=["box-sizing: content-box;","position:absolute;width:"+b+"px;","height:20px;top:0;","left:"+c+"px;","margin:0;padding:0;margin-bottom:5px;","cursor:pointer;overflow:hidden;"].join(""),i=['<div id="'+e+'" style="'+h+'">','<div style="',"box-sizing: content-box;","width:40px;height:20px;","background-color:#999999;","color:#fff;float:left;","margin-right:1px;font-size:12px;","font-family:"+f.unicode.toDecode(d)+";","text-align: center;line-height:20px;",'">'+f.unicode.toDecode(g)+"</div>",'<a style="maring:0;padding:0;',"display:inline-block;border:none;","overflow:hidden;height:20px;","line-height:20px;cursor:pointer;","width:20px;background:url(","'https://cpro.baidustatic.com/cpro/ui/","noexpire/img/2.0.1/xuanfu_close.png","') no-repeat 0 0;margin-bottom:3px;",'float:left" ></a>',"</div>"].join("");return i},b.default=function(){var b="https://cpro.baidustatic.com/cpro/ui/noexpire/img/clb/1.0.0/close.gif",c=["box-sizing: content-box;","height:15px;","border:1px solid #e1e1e1;","background:#f0f0f0;","margin:0;","padding:0;","overflow:hidden;"].join(""),d=["box-sizing: content-box;","float:right;","clear:right;","margin:2px 5px 0 0;","width:39px;","height:13px;","cursor:pointer;","background:url("+b+") no-repeat scroll 0 0;"].join(""),e=['<div style="'+c+'">','<span id="'+a.domId+'_closebtn" style="'+d+'" ',"onmouseover=\"this.style.backgroundPosition='0 -20px';\" ","onmouseout=\"this.style.backgroundPosition='0 0';\" ",">","</span>","</div>"].join("");return e},b[a.blockType]()},getVerticalStyle:function(a){var b=a.vSpace||10;"center"===a.verticalType&&(b=.5*(this.style.getClientHeight()-a.containerHeight));var c=a.verticalType;return c&&"center"!==c||(c="top"),{cssName:c,cssValue:b}},getHorizontalStyle:function(a){var b=a.hSpace||10;if(a.contentWidth>0&&1===a.dockType){var c=Math.floor(.5*(this.style.getClientWidth()-a.contentWidth));c>=a.width&&(b="right"===a.horizontalType?c-a.containerWidth-b:c-a.containerWidth-b)}else"center"===a.horizontalType&&(b=.5*(this.style.getClientWidth()-a.containerWidth));var d=a.horizontalType;return d&&"center"!==d||(d="left"),{cssName:d,cssValue:b}},createContainerElementByInfo:function(a){var b=null;
this.dom.g(a.domId)?b=this.dom.g(a.domId):(b=document.createElement("div"),b.id=a.domId);var c=["box-sizing: content-box;","width: "+a.containerWidth+"px;","height: "+a.containerHeight+"px;","overflow: hidden;","z-index: 2147483647;"];if(1===a.followType){if(this.style.canFixed())c.push("position: fixed;");else{c.push("position: absolute;"),this.updatePosition(a,b);var d=this;this.dom.bind(window,"scroll",function(){d.updatePosition(a,a.domId)}),this.dom.bind(window,"resize",function(){d.updatePosition(a,a.domId)})}var e=this.getVerticalStyle(a),f=this.getHorizontalStyle(a);c.push(e.cssName+":"+e.cssValue+"px;"),c.push(f.cssName+":"+f.cssValue+"px;")}else{c.push("position: absolute;");var e=this.getVerticalStyle(a),f=this.getHorizontalStyle(a);c.push(e.cssName+":"+e.cssValue+"px;"),c.push(f.cssName+":"+f.cssValue+"px;")}return b.style.cssText=c.join(""),b},updatePosition:function(a,b){var c=this.dom.g(b);if(c){var d=c.style,e="CSS1Compat"!==document.compatMode,f=e?document.body:document.documentElement,g=(f.clientWidth,f.clientHeight),h=(window.pageXOffset||f.scrollLeft,window.pageYOffset||f.scrollTop);a.contentWidth>0&&1===a.dockType,"top"===a.verticalType||0===a.verticalType.length?d.top=h+a.vSpace+"px":d.top=h+g-a.vSpace-a.containerHeight+"px"}},getCloseCookieName:function(a){var b="bd_close_"+a.id;return"couplet"!==a.blockType&&"button"!==a.blockType||(b+="_"+a.horizontalType),b},setCookieClose:function(a){var b=this.getCloseCookieName(a),c=new Date;c.setTime(c.getTime()+9e5),this.cookie.set(b,!0,{expires:c,path:"/"})},registEvent:function(b){var c=b.domId+"_closebtn",d=this.dom.g(c);this.dom.bind(d,"click",a.proxy(this,this.closeBtnOnClickHandler)),this.dom.bind(d,"mouseover",a.proxy(this,this.closeBtnOnMouseOverHandler)),this.dom.bind(d,"mouseout",a.proxy(this,this.closeBtnOnMouseOutHandler))},closeBtnOnClickHandler:function(){var a=document.getElementById(this.info.domId);a&&a.parentNode&&a.parentNode.removeChild(a),2===this.info.closeType&&this.setCookieClose(this.info);var b="//eclick.baidu.com/fcb.jpg?jk={jk}&dt={dt}&rnd={rnd}",c={jk:this.info.queryId||"",dt:(new Date).getTime(),rnd:Math.floor(2147483648*Math.random())};try{this.log.loadImage(this.lang.template(b,c))}catch(a){}},closeBtnOnMouseOverHandler:function(){var a=this.info.domId+"_closebtn",b=this.dom.g(a);if(b)if("couplet"===this.info.blockType)b.style.backgroundColor="#0066cc";else if("popup"===this.info.blockType||"button"===this.info.blockType){var c=b.getElementsByTagName("div")[0];c.style.backgroundColor="#0066cc";var d=b.getElementsByTagName("a")[0];d.style.backgroundImage="url(https://cpro.baidustatic.com/cpro/ui/noexpire/img/2.0.0/xuanfu_mouseover_close.png)"}},closeBtnOnMouseOutHandler:function(){var a=this.info.domId+"_closebtn",b=this.dom.g(a);if(b)if("couplet"===this.info.blockType)b.style.backgroundColor="#999999";else if("popup"===this.info.blockType||"button"===this.info.blockType){var c=b.getElementsByTagName("div")[0];c.style.backgroundColor="#999999";var d=b.getElementsByTagName("a")[0];d.style.backgroundImage="url(https://cpro.baidustatic.com/cpro/ui/noexpire/img/2.0.1/xuanfu_close.png)"}},autoClose:function(){var a=document.getElementById(this.adInfo.domId);a&&a.parentNode&&a.parentNode.removeChild(a)},render:function(b,c){if(this.validate(b)){this.info=b;var d=this.createCloseElement(b),e=this.createBlockHtmlTemplate(b),f={width:b.width,height:b.height,iframe:this.frame.getFrameHTML(c),closeBtn:d},g=this.createContainerElementByInfo(b);g.innerHTML=this.lang.template(e,f),this.dom.g(b.domId)||document.body.insertBefore(g,document.body.firstChild),this.registEvent(b);var h=b.closeTime||0;h>0&&setTimeout(a.proxy(this,this.autoClose),1e3*h),c.isPdbAd||this.slot.setStatus(c.id,this.config.STATUS_FINISH)}}}),a.define({name:"inlayFix",namespace:"dup.ui.painter.mobile",deps:{config:"dup.common.config",lang:"dup.common.utility.lang",style:"dup.common.utility.style",dom:"dup.common.utility.dom",slot:"dup.business.slot",param:"dup.business.param",expand:"dup.ui.painter.expand",monitor:"dup.business.monitor",frame:"dup.business.frame",richMaterial:"dup.ui.painter.richMaterial",landingPage:"dup.ui.painter.landingPage"},$inlayFix:function(){this.win=window},processSlotInfo:function(a){var b={},c=a.response.placement,d=c.container,e=(c.fillstyle,d.sizeType),f=d.width,g=d.height;if(a.styleOpenApi.scale){e=2;var h=a.styleOpenApi.scale,i=h.split(".");f=i[0],g=i[1]}if(1===e)b.width=f,b.height=g;else if(2===e||5===e){a.pcwd||a.ftpc?(b.wScale=a.pcwd||"-1",a.styleOpenApi.cpro_ftpc="true"):b.wScale=f,a.pchd?b.hScale=a.pchd:b.hScale=g;var j={},k=a.styleOpenApi.cpro_ftpc||"true"===a.styleOpenApi.cpro_ftpc||"-1"===b.wScale;k=5===e||k;var l=this.dom.g(a.containerId);k&&l&&l.parentElement.clientWidth&&(j.width=l.parentElement.clientWidth||0),"-1"===b.hScale&&l&&l.parentElement&&(j.height=l.parentElement.clientHeight||0);var m=this.param.translateScaleToPixelSize(b.wScale,b.hScale,j);d.width=m.width,d.height=m.height,a.width=m.width,a.height=m.height,b.width=m.width,b.height=m.height}else if(3===e){var n=this.getCurViewportWidth(f);d.width=a.width=b.width=n,d.height=a.height=b.height=g}b.sizeType=e;var o=a.styleOpenApi,p=o.cpro_w||o.rsi0||0,q=o.cpro_h||o.rsi1||0;return(p||q)&&(b.width=p||this.getCurViewportWidth(f),b.height=q||g,a.width=b.width,a.height=b.height),b},getCurViewportWidth:function(a){var b=this.isUnionPreview?a:Math.max(320,this.win.innerWidth);return isNaN&&isNaN(b)&&(b=this.style.getClientWidth()),b},parseHtmlSnippet:function(a){var b=['<div style="box-sizing: content-box;width:{width}px;height:{height}px;position:relative;margin:0 auto;">',"{closeBtnHtml}","{iframeHtml}","</div>"].join("");return this.lang.template(b,a)},decorateContainer:function(a,b){if(a){var c=a.style;c.cssText=["box-sizing: content-box;","text-align:center;","display:block;","font-size:0;","width:100%;","height:"+b.height+"px;"].join("")}},validate:function(a){return!0},render:function(a){if(this.slot.setStatus(a.id,this.config.STATUS_RENDERED),this.validate(a)){if(!this.slot.adInfoIsAvailable(a))return!1;this.monitor.sendLog(a),a.displayType="inlay-mobile";var b=this.dom.g(a.containerId);if(b){this.monitor.sendLog(a);var c=this.richMaterial.render(a),d=this;if(c)return void(this.supportPostMessage&&setTimeout(function(){d.expand.fire("adloaded",a.id)},800));this.landingPage.activate(a);var e=this.processSlotInfo(a);if(this.decorateContainer(b,e),a.width=e.width,a.height=e.height,2===e.sizeType||5===e.sizeType){var f=a.response.pdb_deliv.deliv_des;if(f&&f._html){f=f._html;var g=f.type;"text"!==g&&"image"!==g&&"flash"!==g||(f.width=a.width,f.height=a.height)}}var h={id:a.id,width:e.width,height:e.height,closeBtnHtml:"",iframeHtml:this.frame.getFrameHTML(a)},i=this.parseHtmlSnippet(h);b.innerHTML=i,a.isPdbAd||this.slot.setStatus(a.id,this.config.STATUS_FINISH)}}}}),a.define({name:"float",namespace:"dup.ui.painter.mobile",deps:{config:"dup.common.config",lang:"dup.common.utility.lang",style:"dup.common.utility.style",dom:"dup.common.utility.dom",cookie:"dup.common.utility.cookie",slot:"dup.business.slot",frame:"dup.business.frame",monitor:"dup.business.monitor",richMaterial:"dup.ui.painter.richMaterial",painter:"dup.ui.painter.mobile.inlayFix",hiddenFloatAd:"dup.ui.painter.hiddenFloatAd"},$float:function(){},float:function(){},processSlotInfo:function(a){var b=a.response.placement,c=b.container,d=b.fillstyle,e=parseFloat(d.opacity||.9),f=d.backgroundColor||"#000",g=this.painter.processSlotInfo(a);g.backgroundOpacity=e,g.backgroundColor=f;var h=c.location;return 2!==h&&3!==h&&(h=3),g.locationType=h,g.containerId=a.containerId,g.closeType=c.closeType,g},parseHtmlSnippet:function(a){var b=['<div style="width:{width}px;height:{height}px;position:relative;margin:0 auto;">',"{closeBtnHtml}","{iframeHtml}","</div>"].join("");return this.lang.template(b,a)},parseCloseBtnLayoutData:function(a){var b=40,c=40,d=0,e="",f=Math.max(document.documentElement.clientWidth,window.innerWidth||0);b=f*(1/8),c=.4*b,d=16*(b/50);var g=0;2===a.locationType?(e=4,g=a.height):3===a.locationType&&(e=3,g="-"+c);var h={domId:a.containerId,right:d,top:g,closeBtnWidth:""+b,closeBtnHeight:c,closeBtnImgUrl:"https://cpro.baidustatic.com/cpro/ui/noexpire/img/2.0.0/xuantingClose"+e+".png"};return h},parseCloseButtonHtml:function(a){var b=["<div",' id="{domId}_closebtn"',' style="',"box-sizing: content-box;","position:absolute;","right:0px;","top:{top}px;","width:{closeBtnWidth}px;","height:{closeBtnHeight}px;","overflow:hidden;","display:block;","background:url('{closeBtnImgUrl}') no-repeat 0 0;","_filter:progid:DXImageTransform.","Microsoft.AlphaImageLoader(","enabled=true,"," sizingMethod=none,"," src='{closeBtnImgUrl}');","_background:none;","cursor:pointer;","background-position:center;","background-size:100% 100%;",'z-index:2147483647;">&nbsp;</div>'].join(""),c=this.parseCloseBtnLayoutData(a);return this.lang.template(b,c)},decorateContainer:function(a,b){if(a){var c="absolute";this.style.canFixed()&&(c="fixed");var d="";2===b.locationType?d="top":3===b.locationType&&(d="bottom");var e=0;"absolute"===c&&(e=this.style.getScrollTop(window)+this.style.getClientHeight(window)-b.height);var f=a.style;f.cssText=["box-sizing: content-box;","position:"+c,"z-index:2147483647;",d+":"+e,"background-color:"+b.backgroundColor,"opacity:"+b.backgroundOpacity,"text-align:center","display:block","font-size:0","width:100%","height:"+b.height+"px"].join(";")}},getCloseCookieKey:function(a){return"bd_close_"+a.id},closeBtnOnClickHandler:function(a,b){var c=this.dom.g(b.containerId);if(c&&c.parentNode&&c.parentNode.removeChild(c),2===b.closeType){var d="bd_close_"+this.id,e={path:""};this.cookie.set(d,!0,e)}},validate:function(a){var b="bd_close_"+this.id,c=this.cookie.get(b,window);return 2!==a.closeType||!c},render:function(b){if(!this.slot.adInfoIsAvailable(b))return!1;this.slot.setStatus(b.id,this.config.STATUS_RENDERED),this.id=b.id,b.displayType="inlay-mobile";var c=this.processSlotInfo(b);if(this.validate(c)){this.monitor.sendLog(b);var d=this.richMaterial.render(b);if(!d){var e=this.dom.g(b.containerId);if(e){this.decorateContainer(e,c),b.width=c.width,b.height=c.height;var f=this.parseCloseButtonHtml(c);if(2===c.sizeType){var g=b.response.pdb_deliv.deliv_des;if(g&&g._html){g=g._html;var h=g.type;"text"!==h&&"image"!==h&&"flash"!==h||(g.width=b.width,g.height=b.height)}}var i={id:b.id,width:c.width,height:c.height,closeBtnHtml:f,iframeHtml:this.frame.getFrameHTML(b)},j=this.parseHtmlSnippet(i);document.body.insertBefore(e,document.body.firstChild),e.innerHTML=j;var k=this.dom.g(b.containerId+"_closebtn");k&&this.dom.bind(k,"click",a.proxy(this,this.closeBtnOnClickHandler,b)),this.hiddenFloatAd.render(b),b.isPdbAd||this.slot.setStatus(b.id,this.config.STATUS_FINISH)}}}}}),a.define({name:"clbDelivery",namespace:"dup.business.delivery",deps:{slot:"dup.business.slot",frame:"dup.business.frame",interface:"dup.business.interface",config:"dup.common.config",log:"dup.common.utility.log",origentation:"dup.business.origentation",data:"dup.common.utility.data"},clbSlotArr:{BAIDU_CLB_fillSlot:!0,BAIDU_CLB_singleFillSlot:!0,BAIDU_CLB_fillSlotWithSize:!0,BAIDU_CLB_fillSlotAsync:!0,BAIDU_CLB_preloadSlots:!0},launch:function(){var b;try{var c=window.BAIDU_CLB_SLOT_ID;window.BAIDU_CLB_SLOT_ID=null,c&&(b=this.slot.createSlot({slotId:c,productLine:"clb",isAsync:!1}),this.slot.addSlot(b),this.slot.process());for(var d in this.clbSlotArr)"BAIDU_CLB_preloadSlots"===d?this.data.defineOnce(d,a.proxy(this,this.reSet)):this.data.defineOnce(d,a.proxy(this,this.getClbFillSlot));this.updateApi()}catch(a){}},reSet:function(){},getClbFillSlot:function(a,b){var c;a&&!b&&(c=this.slot.createSlot({slotId:a,productLine:"clb",isAsync:!1})),a&&b&&(c=this.slot.createSlot({slotId:a,productLine:"clb",isAsync:!0}),c.containerId=b),this.slot.addSlot(c),this.slot.process()},updateApi:function(){try{this.data.defineOnce("BAIDU_CLB_prepareMoveSlot",a.proxy(this,this.prepareMove)),this.data.defineOnce("BAIDU_DUP_addSlotStatusCallback",a.proxy(this.origentation,this.origentation.addSlotStatusCallback)),this.data.defineOnce(this.config.DUP_PREFIX+"renderFrame",a.proxy(this.frame,this.frame.renderFrame)),this.data.defineOnce("BAIDU_CLB_setConfig",a.proxy(this.data,this.data.putConfig)),this.data.defineOnce("BAIDU_CLB_addOrientation",a.proxy(this.origentation,this.origentation.addOrientation)),this.data.defineOnce("BAIDU_CLB_addOrientationOnce",a.proxy(this.origentation,this.origentation.addOrientationOnce)),this.data.defineOnce("BAIDU_CLB_setOrientationOnce",a.proxy(this.origentation,this.origentation.setOrientationOnce)),this.data.defineOnce("BAIDU_CLB_addSlot",a.proxy(this,this.reSet)),this.data.defineOnce("BAIDU_CLB_enableAllSlots",a.proxy(this,this.reSet)),this.data.defineOnce("BAIDU_CLB_SETHTMLSLOT",a.proxy(this,this.reSet))}catch(a){}},prepareMove:function(a){try{for(var b=0,c=a+"_"+b;this.slot.getSlotInfo(c)&&0!==this.slot.getSlotInfo(c)[0];){var d=this.slot.getSlotInfo(c);this.slot.clearStatus(d,this.config.STATUS_FINISH),c=a+"_"+ ++b}}catch(a){}}}),a.define({name:"inlayFix",namespace:"dup.ui.painter",deps:{config:"dup.common.config",dom:"dup.common.utility.dom",slot:"dup.business.slot",frame:"dup.business.frame",viewWatch:"dup.business.viewWatch",richMaterial:"dup.ui.painter.richMaterial",monitor:"dup.business.monitor",expand:"dup.ui.painter.expand",event:"dup.common.utility.event",lang:"dup.common.utility.lang",browser:"dup.common.utility.browser",deliveryLimit:"dup.business.deliveryLimit"},$inlayFix:function(){this.supportPostMessage=!(this.browser.ie&&this.browser.ie<8)},bindEvent4Expand:function(a){var b=this.dom.g(a.containerId),c=this;this.event.bind(b,"mouseover",function(b){var d=b.target||b.srcElement;"iframe"!==d.tagName.toLowerCase()&&"iframe"!==d.nodeName.toLowerCase()||c.expand.fire("mouseover",a.id)})},validate:function(a){if("union"===a.productLine){var b=this.deliveryLimit.getSlotType(a),c=this.deliveryLimit.validate(a);return c&&this.deliveryLimit.setAdsCount(b,a.containerId),c}return!0},render:function(a){this.slot.setStatus(a.id,this.config.STATUS_RENDERED);var b=this.dom.g(a.containerId);if(!this.slot.adInfoIsAvailable(a))return this.slot.setStatus(a.id,this.config.STATUS_FINISH),!1;a.displayType="inlay";var c=null==a.response?null:a.response.placement.container.slide,d=!(!c||this.lang.isEmptyObj(c)||!this.supportPostMessage);if(d&&(this.expand.observer(a),this.bindEvent4Expand(a)),this.validate(a)){this.monitor.sendLog(a);var e=this.richMaterial.render(a),f=this;if(e)return void(this.supportPostMessage&&setTimeout(function(){f.expand.fire("adloaded",a.id)},800));if(!b)return void this.slot.addErrorInfo(a,"container dom not founded");var g=this.frame.getFrameHTML(a);b.innerHTML=g,this.viewWatch.regisetViewWatch(a),a.isPdbAd||this.slot.setStatus(a.id,this.config.STATUS_FINISH),d&&setTimeout(function(){f.expand.fire("adloaded",a.id)},800)}}}),a.define({name:"float",namespace:"dup.ui.painter",deps:{config:"dup.common.config",dom:"dup.common.utility.dom",lang:"dup.common.utility.lang",frame:"dup.business.frame",slot:"dup.business.slot",richMaterial:"dup.ui.painter.richMaterial",monitor:"dup.business.monitor",expand:"dup.ui.painter.expand",floatBlock:"dup.ui.painter.floatBlock",viewWatch:"dup.business.viewWatch"},GAP:5,NORMAL_CLOSE_BTN_HEIGHT:17,COUPLET_CLOSE_BTN_HEIGHT:20,validate:function(a){var b=a.response.placement,c=b.container,d=c.floated;if(this.dom.isInIframe(window))return!1;var e=parseInt(d.clientw||0,10);return e>4095&&(e=4095),!(e>=screen.width)},processSlotInfo:function(a){var b=a.response.placement,c=b.container,d=c.floated,e=d.dockType,f=c.closeType,g=c.closeTime||0,h=d.vspace||0,i=d.hspace||0,j=a.response.rtb_deliv.deliv_id&&a.response.order_deliv.deliv_id,k=a.width||c.width,l=a.height||c.height,m=+k,n=+l,o=["default","couplet","button","popup"],p=parseInt(d.blockType||0,10),q=o[p];"default"!==q&&(m+=2*this.GAP+1,n+=2*this.GAP+1),n+="couplet"===q?this.COUPLET_CLOSE_BTN_HEIGHT:"button"===q||"popup"===q?this.COUPLET_CLOSE_BTN_HEIGHT+this.GAP:this.NORMAL_CLOSE_BTN_HEIGHT;var r=c.location,s="",t="";switch(r){case 1:s="center",t="center";break;case 2:s="top";break;case 3:s="bottom";break;case 4:t="left";break;case 5:t="right";break;case 7:s="top",t="left";break;case 8:s="top",t="right";break;case 9:s="bottom",t="left";break;case 10:s="bottom",t="right"}0===h&&"button"===q?(s="bottom",h=40):0===h&&"couplet"===q&&(s="top",h=150);var u=a.response.queryid,v={id:a.id,domId:a.containerId,width:k,height:l,containerWidth:m,containerHeight:n,verticalType:s,horizontalType:t,followType:d.follow||1,blockType:q,dockType:e,closeType:f,closeTime:g,vSpace:h,hSpace:i,contentWidth:d.contw,isRTB:j,queryId:u,productLine:a.productLine};return v},render:function(b){if(this.validate(b)){if(this.slot.setStatus(b.id,this.config.STATUS_RENDERED),!this.slot.adInfoIsAvailable(b))return!1;b.displayType="float",this.monitor.sendLog(b);var c=this.richMaterial.render(b);if(!c){var d=[];d.push(b);var e=b.response.placement,f=e.container,g=parseInt(f.location||0,10);if(6===g){d=[];var h=this.slot.cloneSlot(b),i=this.slot.cloneSlot(b);h.response.placement.container.location=5,h.containerId=h.containerId+"_right",this.slot.addSlot(h),d.push(h),i.response.placement.container.location=4,i.containerId=i.containerId+"_left",this.slot.addSlot(i),d.push(i)}for(var j=0,k=d.length;k>j;j++){var l=d[j],m=a.create(this.floatBlock);m.render(this.processSlotInfo(l),l)}this.viewWatch.regisetViewWatch(b)}}}}),a.define({name:"main",namespace:"dup.ui.delivery",deps:{config:"dup.common.config",slot:"dup.business.slot",fingerPrint:"dup.business.fingerPrint",data:"dup.common.utility.data",storage:"dup.common.utility.storage",loader:"dup.common.loader",painterSelector:"dup.business.painterSelector",origentation:"dup.business.origentation",param:"dup.business.param",detect:"dup.business.detect",interface:"dup.business.interface",log:"dup.common.utility.log",scene:"dup.business.sceneTactics",clbDelivery:"dup.business.delivery.clbDelivery",unionDelivery:"dup.business.delivery.unionDelivery",dupDelivery:"dup.business.delivery.dupDelivery",standardDelivery:"dup.business.delivery.standardDelivery",inlayFixPainter:"dup.ui.painter.inlayFix",floatPainter:"dup.ui.painter.float",mobileInlayFixPainter:"dup.ui.painter.mobile.inlayFix",mobileFloatPainter:"dup.ui.painter.mobile.float"},process:function(){this.prepareApi(),this.unionDelivery.launch(),this.dupDelivery.launch(),this.clbDelivery.launch(),this.standardDelivery.launch(),this.fingerPrint.start()},prepareApi:function(){this.interface.register("addOrientation",this.origentation,this.origentation.addOrientation),this.interface.register("addOrientationOnce",this.origentation,this.origentation.addOrientationOnce),this.interface.register("setOrientationOnce",this.origentation,this.origentation.setOrientationOnce),this.data.defineOnce(this.config.LOADER_DEFINE_NAME,a.proxy(this,this.callback))},callback:function(b){try{var c=this.slot.getSlotInfo(b.tuid);c.response=b,this.slot.setStatus(c.id,this.config.STATUS_RESPONSE),this.slot.processSlot(c),c.timestampWatcher.t3=(new Date).getTime(),this.param.processExtendsParam(c);var d=this.painterSelector.getPainter(c),e=a.using(d);e?e.render(c):d&&this.loader.load(c.id,d,a.proxy(this,this.painterLoadedCallback,d,c)),setTimeout(a.proxy(this.slot,this.slot.adInfoStorage,c),3e3)}catch(a){var f=encodeURIComponent(a),g={type:"elog",pos:"callback",id:b.tuid,mes:f};this.log.monitorLog(g)}},painterLoadedCallback:function(b,c){var d=a.using(b);d&&d.render(c)}});var c=a.using("dup.ui.delivery.main");c.process()}(_ssp_global.oojs)}catch(a){var url=["//eclick.baidu.com/se.jpg?","type=fatalError","mes="+encodeURIComponent(a)].join("&"),img=new Image;img.src=url}